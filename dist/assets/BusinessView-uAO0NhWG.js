const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CcOh_9Dq.js","assets/index.esm-eLCGd2I0.js","assets/index-C_pTg3Tk.js","assets/index-gq7i9PR2.css","assets/index-BEbswttH.css"])))=>i.map(i=>d[i]);
import{E as Vt,_ as po}from"./ElButton-CoynA4ks.js";import{B as V,i as hi,j as Ie,k as fi,m as w,l as ar,p as fe,s as pi,q as gi,v as go,x as lt,y as mi,z as or,o as k,A as W,C as q,D as ue,F as bi,G as lr,a as Ke,c as Q,w as U,b as P,t as ne,H as pt,I as gt,J as mt,K as kn,T as Rr,L as $n,M as bt,N as mo,r as je,d as Yt,e as N,u as L,f as Re,n as Ae,g as Oe,_ as wt,O as Tn,P as bs,Q as bo,R as vs,S as vo,U as zn,V as ys,W as _s,X as yo,Y as _o,Z as wo,$ as So,a0 as ko,a1 as vi,a2 as cr,a3 as yi}from"./index-C_pTg3Tk.js";import{I as $o,E as _i,Q as Po}from"./banner-items-BGHwIYTs.js";import{g as Co,b as pe,c as xo,a as Ve,u as Ao,E as We,F as Oo}from"./index.esm-eLCGd2I0.js";var on={};function jr(r="pui_id_"){return on.hasOwnProperty(r)||(on[r]=0),on[r]++,`${r}${on[r]}`}function vt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return jr(r)}var Ue={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},ws=V.extend({name:"common"});function Wt(r){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(r)}function To(r){return ki(r)||Eo(r)||Si(r)||wi()}function Eo(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function xt(r,e){return ki(r)||Io(r,e)||Si(r,e)||wi()}function wi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Si(r,e){if(r){if(typeof r=="string")return Ss(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ss(r,e):void 0}}function Ss(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Io(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,i,a,o=[],l=!0,c=!1;try{if(i=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function ki(r){if(Array.isArray(r))return r}function ks(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function O(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ks(Object(t),!0).forEach(function(n){Tt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ks(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tt(r,e,t){return(e=Ro(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ro(r){var e=jo(r,"string");return Wt(e)=="symbol"?e:e+""}function jo(r,e){if(Wt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Wt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var de={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e){var t=this;e?(this._loadScopedThemeStyles(e),this._themeChangeListener(function(){return t._loadScopedThemeStyles(e)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,$attrSelector:void 0,beforeCreate:function(){var e,t,n,s,i,a,o,l,c,u,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,f=h?(t=this.pt)===null||t===void 0||(t=t.originalValue)===null||t===void 0?void 0:t[this.$.type.name]:void 0,p=h?(n=this.pt)===null||n===void 0||(n=n.value)===null||n===void 0?void 0:n[this.$.type.name]:this.pt;(s=p||f)===null||s===void 0||(s=s.hooks)===null||s===void 0||(i=s.onBeforeCreate)===null||i===void 0||i.call(s);var g=(a=this.$primevueConfig)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a._usept,m=g?(o=this.$primevue)===null||o===void 0||(o=o.config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o.originalValue:void 0,S=g?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0?void 0:c.pt;(u=S||m)===null||u===void 0||(u=u[this.$.type.name])===null||u===void 0||(u=u.hooks)===null||u===void 0||(d=u.onBeforeCreate)===null||d===void 0||d.call(u),this.$attrSelector=jr("pc")},created:function(){this._hook("onCreated")},beforeMount:function(){this.rootEl=hi(this.$el,'[data-pc-name="'.concat(Ie(this.$.type.name),'"]')),this.rootEl&&(this.$attrSelector&&!this.rootEl.hasAttribute(this.$attrSelector)&&this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=O({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),n=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));t==null||t(),n==null||n()}},_mergeProps:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return fi(e)?e.apply(void 0,n):w.apply(void 0,n)},_loadStyles:function(){var e=this,t=function(){Ue.isStyleNameLoaded("base")||(V.loadCSS(e.$styleOptions),e._loadGlobalStyles(),Ue.setLoadedStyleName("base")),e._loadThemeStyles()};t(),this._themeChangeListener(t)},_loadCoreStyles:function(){var e,t;!Ue.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name&&(ws.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),Ue.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);ar(e)&&V.load(e,O({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,t;if(!(this.isUnstyled||this.$theme==="none")){if(!fe.isStyleNameLoaded("common")){var n,s,i=((n=this.$style)===null||n===void 0||(s=n.getCommonTheme)===null||s===void 0?void 0:s.call(n))||{},a=i.primitive,o=i.semantic,l=i.global,c=i.style;V.load(a==null?void 0:a.css,O({name:"primitive-variables"},this.$styleOptions)),V.load(o==null?void 0:o.css,O({name:"semantic-variables"},this.$styleOptions)),V.load(l==null?void 0:l.css,O({name:"global-variables"},this.$styleOptions)),V.loadTheme(O({name:"global-style"},this.$styleOptions),c),fe.setLoadedStyleName("common")}if(!fe.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name){var u,d,h,f,p=((u=this.$style)===null||u===void 0||(d=u.getComponentTheme)===null||d===void 0?void 0:d.call(u))||{},g=p.css,m=p.style;(h=this.$style)===null||h===void 0||h.load(g,O({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(f=this.$style)===null||f===void 0||f.loadTheme(O({name:"".concat(this.$style.name,"-style")},this.$styleOptions),m),fe.setLoadedStyleName(this.$style.name)}if(!fe.isStyleNameLoaded("layer-order")){var S,v,b=(S=this.$style)===null||S===void 0||(v=S.getLayerOrderThemeCSS)===null||v===void 0?void 0:v.call(S);V.load(b,O({name:"layer-order",first:!0},this.$styleOptions)),fe.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var t,n,s,i=((t=this.$style)===null||t===void 0||(n=t.getPresetTheme)===null||n===void 0?void 0:n.call(t,e,"[".concat(this.$attrSelector,"]")))||{},a=i.css,o=(s=this.$style)===null||s===void 0?void 0:s.load(a,O({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=o.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Ue.clearLoadedStyleNames(),pi.on("theme:change",e)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var t;return this[e]||((t=this._getHostInstance(this))===null||t===void 0?void 0:t[e])},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return gi(e,t,n)},_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=/./g.test(n)&&!!s[n.split(".")[0]],o=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=o.mergeSections,c=l===void 0?!0:l,u=o.mergeProps,d=u===void 0?!1:u,h=i?a?this._useGlobalPT(this._getPTClassValue,n,s):this._useDefaultPT(this._getPTClassValue,n,s):void 0,f=a?void 0:this._getPTSelf(t,this._getPTClassValue,n,O(O({},s),{},{global:h||{}})),p=this._getPTDatasets(n);return c||!c&&f?d?this._mergeProps(d,h,f,p):O(O(O({},h),f),p):O(O({},f),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return w(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(n)),this._usePT.apply(this,[this.$_attrsPT].concat(n)))},_getPTDatasets:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s="data-pc-",i=n==="root"&&ar((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return n!=="transition"&&O(O({},n==="root"&&O(O(Tt({},"".concat(s,"name"),Ie(i?(t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]:this.$.type.name)),i&&Tt({},"".concat(s,"extend"),Ie(this.$.type.name))),go()&&Tt({},"".concat(this.$attrSelector),""))),{},Tt({},"".concat(s,"section"),Ie(n)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return lt(e)||mi(e)?{class:e}:e},_getPT:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,i=function(o){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=s?s(o):o,d=Ie(n),h=Ie(t.$name);return(l=c?d!==h?u==null?void 0:u[d]:void 0:u==null?void 0:u[d])!==null&&l!==void 0?l:u};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},_usePT:function(e,t,n,s){var i=function(g){return t(g,n,s)};if(e!=null&&e.hasOwnProperty("_usept")){var a,o=e._usept||((a=this.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},l=o.mergeSections,c=l===void 0?!0:l,u=o.mergeProps,d=u===void 0?!1:u,h=i(e.originalValue),f=i(e.value);return h===void 0&&f===void 0?void 0:lt(f)?f:lt(h)?h:c||!c&&f?d?this._mergeProps(d,h,f):O(O({},h),f):f}return i(e)},_useGlobalPT:function(e,t,n){return this._usePT(this.globalPT,e,t,n)},_useDefaultPT:function(e,t,n){return this._usePT(this.defaultPT,e,t,n)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,O(O({},this.$params),t))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this.$_attrsWithoutPT,this.ptm(e,t))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,O({instance:this},n),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,O(O({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var s=this._getOptionValue(this.$style.inlineStyles,e,O(O({},this.$params),n)),i=this._getOptionValue(ws.inlineStyles,e,O(O({},this.$params),n));return[i,s]}}},computed:{globalPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(n){return or(n,{instance:t})})},defaultPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(n){return t._getOptionValue(n,t.$name,O({},t.$params))||or(n,O({},t.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$inProps:function(){var e,t=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(n){var s=xt(n,1),i=s[0];return t==null?void 0:t.includes(i)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return O(O({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=xt(e,1),n=t[0];return n==null?void 0:n.startsWith("pt:")}).reduce(function(e,t){var n=xt(t,2),s=n[0],i=n[1],a=s.split(":"),o=To(a),l=o.slice(1);return l==null||l.reduce(function(c,u,d,h){return!c[u]&&(c[u]=d===h.length-1?i:{}),c[u]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=xt(e,1),n=t[0];return!(n!=null&&n.startsWith("pt:"))}).reduce(function(e,t){var n=xt(t,2),s=n[0],i=n[1];return e[s]=i,e},{})}}},Do=function(e){var t=e.dt;return`
.p-steplist {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style-type: none;
    overflow-x: auto;
}

.p-step {
    position: relative;
    display: flex;
    flex: 1 1 auto;
    align-items: center;
    gap: `.concat(t("stepper.step.gap"),`;
    padding: `).concat(t("stepper.step.padding"),`;
}

.p-step:last-of-type {
    flex: initial;
}

.p-step-header {
    border: 0 none;
    display: inline-flex;
    align-items: center;
    text-decoration: none;
    cursor: pointer;
    transition: background `).concat(t("stepper.transition.duration"),", color ").concat(t("stepper.transition.duration"),", border-color ").concat(t("stepper.transition.duration"),", outline-color ").concat(t("stepper.transition.duration"),", box-shadow ").concat(t("stepper.transition.duration"),`;
    border-radius: `).concat(t("stepper.step.header.border.radius"),`;
    outline-color: transparent;
    background: transparent;
    padding: `).concat(t("stepper.step.header.padding"),`;
    gap: `).concat(t("stepper.step.header.gap"),`;
}

.p-step-header:focus-visible {
    box-shadow: `).concat(t("stepper.step.header.focus.ring.shadow"),`;
    outline: `).concat(t("stepper.step.header.focus.ring.width")," ").concat(t("stepper.step.header.focus.ring.style")," ").concat(t("stepper.step.header.focus.ring.color"),`;
    outline-offset: `).concat(t("stepper.step.header.focus.ring.offset"),`;
}

.p-stepper.p-stepper-readonly .p-step {
    cursor: auto;
}

.p-step-title {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    color: `).concat(t("stepper.step.title.color"),`;
    font-weight: `).concat(t("stepper.step.title.font.weight"),`;
    transition: background `).concat(t("stepper.transition.duration"),", color ").concat(t("stepper.transition.duration"),", border-color ").concat(t("stepper.transition.duration"),", box-shadow ").concat(t("stepper.transition.duration"),", outline-color ").concat(t("stepper.transition.duration"),`;
}

.p-step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    color: `).concat(t("stepper.step.number.color"),`;
    border: 2px solid `).concat(t("stepper.step.number.border.color"),`;
    background: `).concat(t("stepper.step.number.background"),`;
    min-width: `).concat(t("stepper.step.number.size"),`;
    height: `).concat(t("stepper.step.number.size"),`;
    line-height: `).concat(t("stepper.step.number.size"),`;
    font-size: `).concat(t("stepper.step.number.font.size"),`;
    z-index: 1;
    border-radius: `).concat(t("stepper.step.number.border.radius"),`;
    position: relative;
    font-weight: `).concat(t("stepper.step.number.font.weight"),`;
}

.p-step-number::after {
    content: " ";
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: `).concat(t("stepper.step.number.border.radius"),`;
    box-shadow: `).concat(t("stepper.step.number.shadow"),`;
}

.p-step-active .p-step-header {
    cursor: default;
}

.p-step-active .p-step-number {
    background: `).concat(t("stepper.step.number.active.background"),`;
    border-color: `).concat(t("stepper.step.number.active.border.color"),`;
    color: `).concat(t("stepper.step.number.active.color"),`;
}

.p-step-active .p-step-title {
    color: `).concat(t("stepper.step.title.active.color"),`;
}

.p-step:not(.p-disabled):focus-visible {
    outline: `).concat(t("focus.ring.width")," ").concat(t("focus.ring.style")," ").concat(t("focus.ring.color"),`;
    outline-offset: `).concat(t("focus.ring.offset"),`;
}

.p-step:has(~ .p-step-active) .p-stepper-separator {
    background: `).concat(t("stepper.separator.active.background"),`;
}

.p-stepper-separator {
    flex: 1 1 0;
    background: `).concat(t("stepper.separator.background"),`;
    width: 100%;
    height: `).concat(t("stepper.separator.size"),`;
    transition: background `).concat(t("stepper.transition.duration"),", color ").concat(t("stepper.transition.duration"),", border-color ").concat(t("stepper.transition.duration"),", box-shadow ").concat(t("stepper.transition.duration"),", outline-color ").concat(t("stepper.transition.duration"),`;
}

.p-steppanels {
    padding: `).concat(t("stepper.steppanels.padding"),`;
}

.p-steppanel {
    background: `).concat(t("stepper.steppanel.background"),`;
    color: `).concat(t("stepper.steppanel.color"),`;
}

.p-stepper:has(.p-stepitem) {
    display: flex;
    flex-direction: column;
}

.p-stepitem {
    display: flex;
    flex-direction: column;
    flex: initial;
}

.p-stepitem.p-stepitem-active {
    flex: 1 1 auto;
}

.p-stepitem .p-step {
    flex: initial;
}

.p-stepitem .p-steppanel-content {
    width: 100%;
    padding: `).concat(t("stepper.steppanel.padding"),`;
    margin-inline-start: 1rem;
}

.p-stepitem .p-steppanel {
    display: flex;
    flex: 1 1 auto;
}

.p-stepitem .p-stepper-separator {
    flex: 0 0 auto;
    width: `).concat(t("stepper.separator.size"),`;
    height: auto;
    margin: `).concat(t("stepper.separator.margin"),`;
    position: relative;
    left: calc(-1 * `).concat(t("stepper.separator.size"),`);
}

.p-stepitem .p-stepper-separator:dir(rtl) {
    left: calc(-9 * `).concat(t("stepper.separator.size"),`);
}

.p-stepitem:has(~ .p-stepitem-active) .p-stepper-separator {
    background: `).concat(t("stepper.separator.active.background"),`;
}

.p-stepitem:last-of-type .p-steppanel {
    padding-inline-start: `).concat(t("stepper.step.number.size"),`;
}
`)},Lo={root:function(e){var t=e.props;return["p-stepper p-component",{"p-readonly":t.linear}]},separator:"p-stepper-separator"},No=V.extend({name:"stepper",theme:Do,classes:Lo}),Bo={name:"BaseStepper",extends:de,props:{value:{type:[String,Number],default:void 0},linear:{type:Boolean,default:!1}},style:No,provide:function(){return{$pcStepper:this,$parentInstance:this}}},$i={name:"Stepper",extends:Bo,inheritAttrs:!1,emits:["update:value"],data:function(){return{id:this.$attrs.id,d_value:this.value}},watch:{"$attrs.id":function(e){this.id=e||vt()},value:function(e){this.d_value=e}},mounted:function(){this.id=this.id||vt()},methods:{updateValue:function(e){this.d_value!==e&&(this.d_value=e,this.$emit("update:value",e))},isStepActive:function(e){return this.d_value===e},isStepDisabled:function(){return this.linear}}};function Uo(r,e,t,n,s,i){return k(),W("div",w({class:r.cx("root"),role:"tablist"},r.ptmi("root")),[r.$slots.start?q(r.$slots,"start",{key:0}):ue("",!0),q(r.$slots,"default"),r.$slots.end?q(r.$slots,"end",{key:1}):ue("",!0)],16)}$i.render=Uo;var Mo={root:"p-steplist"},Fo=V.extend({name:"steplist",classes:Mo}),Vo={name:"BaseStepList",extends:de,style:Fo,provide:function(){return{$pcStepList:this,$parentInstance:this}}},Pi={name:"StepList",extends:Vo,inheritAttrs:!1};function Wo(r,e,t,n,s,i){return k(),W("div",w({class:r.cx("root")},r.ptmi("root")),[q(r.$slots,"default")],16)}Pi.render=Wo;var qo={root:"p-steppanels"},zo=V.extend({name:"steppanels",classes:qo}),Ho={name:"BaseStepPanels",extends:de,style:zo,provide:function(){return{$pcStepPanels:this,$parentInstance:this}}},Ci={name:"StepPanels",extends:Ho,inheritAttrs:!1};function Jo(r,e,t,n,s,i){return k(),W("div",w({class:r.cx("root")},r.ptmi("root")),[q(r.$slots,"default")],16)}Ci.render=Jo;var Go={root:function(e){var t=e.instance;return["p-step",{"p-step-active":t.active,"p-disabled":t.isStepDisabled}]},header:"p-step-header",number:"p-step-number",title:"p-step-title"},Ko=V.extend({name:"step",classes:Go}),xi={name:"StepperSeparator",hostName:"Stepper",extends:de};function Qo(r,e,t,n,s,i){return k(),W("span",w({class:r.cx("separator")},r.ptm("separator")),null,16)}xi.render=Qo;var Xo={name:"BaseStep",extends:de,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"}},style:Ko,provide:function(){return{$pcStep:this,$parentInstance:this}}},Ai={name:"Step",extends:Xo,inheritAttrs:!1,inject:{$pcStepper:{default:null},$pcStepList:{default:null},$pcStepItem:{default:null}},data:function(){return{isSeparatorVisible:!1}},mounted:function(){if(this.$el&&this.$pcStepList){var e=bi(this.$el,lr(this.$pcStepper.$el,'[data-pc-name="step"]')),t=lr(this.$pcStepper.$el,'[data-pc-name="step"]').length;this.isSeparatorVisible=e!==t-1}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{active:this.active,disabled:this.isStepDisabled}})},onStepClick:function(){this.$pcStepper.updateValue(this.activeValue)}},computed:{active:function(){return this.$pcStepper.isStepActive(this.activeValue)},activeValue:function(){var e;return this.$pcStepItem?(e=this.$pcStepItem)===null||e===void 0?void 0:e.value:this.value},isStepDisabled:function(){return!this.active&&(this.$pcStepper.isStepDisabled()||this.disabled)},id:function(){var e;return"".concat((e=this.$pcStepper)===null||e===void 0?void 0:e.id,"_step_").concat(this.activeValue)},ariaControls:function(){var e;return"".concat((e=this.$pcStepper)===null||e===void 0?void 0:e.id,"_steppanel_").concat(this.activeValue)},a11yAttrs:function(){return{root:{role:"presentation","aria-current":this.active?"step":void 0,"data-pc-name":"step","data-pc-section":"root","data-p-disabled":this.isStepDisabled,"data-p-active":this.active},header:{id:this.id,role:"tab",taindex:this.disabled?-1:void 0,"aria-controls":this.ariaControls,"data-pc-section":"header",disabled:this.isStepDisabled,onClick:this.onStepClick}}}},components:{StepperSeparator:xi}},Yo=["id","tabindex","aria-controls","disabled"];function Zo(r,e,t,n,s,i){var a=Ke("StepperSeparator");return r.asChild?q(r.$slots,"default",{key:1,class:gt(r.cx("root")),active:i.active,value:r.value,a11yAttrs:i.a11yAttrs,activateCallback:i.onStepClick}):(k(),Q(pt(r.as),w({key:0,class:r.cx("root"),"aria-current":i.active?"step":void 0,role:"presentation","data-p-active":i.active,"data-p-disabled":i.isStepDisabled},i.getPTOptions("root")),{default:U(function(){return[P("button",w({id:i.id,class:r.cx("header"),role:"tab",type:"button",tabindex:i.isStepDisabled?-1:void 0,"aria-controls":i.ariaControls,disabled:i.isStepDisabled,onClick:e[0]||(e[0]=function(){return i.onStepClick&&i.onStepClick.apply(i,arguments)})},i.getPTOptions("header")),[P("span",w({class:r.cx("number")},i.getPTOptions("number")),ne(i.activeValue),17),P("span",w({class:r.cx("title")},i.getPTOptions("title")),[q(r.$slots,"default")],16)],16,Yo),s.isSeparatorVisible?(k(),Q(a,{key:0})):ue("",!0)]}),_:3},16,["class","aria-current","data-p-active","data-p-disabled"]))}Ai.render=Zo;var el={root:function(e){var t=e.instance;return["p-steppanel",{"p-steppanel-active":t.isVertical&&t.active}]},content:"p-steppanel-content"},tl=V.extend({name:"steppanel",classes:el}),Oi={name:"StepperSeparator",hostName:"Stepper",extends:de};function nl(r,e,t,n,s,i){return k(),W("span",w({class:r.cx("separator")},r.ptm("separator")),null,16)}Oi.render=nl;var rl={name:"BaseStepPanel",extends:de,props:{value:{type:[String,Number],default:void 0},asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"}},style:tl,provide:function(){return{$pcStepPanel:this,$parentInstance:this}}},En={name:"StepPanel",extends:rl,inheritAttrs:!1,inject:{$pcStepper:{default:null},$pcStepItem:{default:null},$pcStepList:{default:null}},data:function(){return{isSeparatorVisible:!1}},mounted:function(){if(this.$el){var e,t,n=lr(this.$pcStepper.$el,'[data-pc-name="step"]'),s=hi(this.isVertical?(e=this.$pcStepItem)===null||e===void 0?void 0:e.$el:(t=this.$pcStepList)===null||t===void 0?void 0:t.$el,'[data-pc-name="step"]'),i=bi(s,n);this.isSeparatorVisible=this.isVertical&&i!==n.length-1}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{active:this.active}})},updateValue:function(e){this.$pcStepper.updateValue(e)}},computed:{active:function(){var e,t,n=this.$pcStepItem?(e=this.$pcStepItem)===null||e===void 0?void 0:e.value:this.value;return n===((t=this.$pcStepper)===null||t===void 0?void 0:t.d_value)},isVertical:function(){return!!this.$pcStepItem},activeValue:function(){var e;return this.isVertical?(e=this.$pcStepItem)===null||e===void 0?void 0:e.value:this.value},id:function(){var e;return"".concat((e=this.$pcStepper)===null||e===void 0?void 0:e.id,"_steppanel_").concat(this.activeValue)},ariaControls:function(){var e;return"".concat((e=this.$pcStepper)===null||e===void 0?void 0:e.id,"_step_").concat(this.activeValue)},a11yAttrs:function(){return{id:this.id,role:"tabpanel","aria-controls":this.ariaControls,"data-pc-name":"steppanel","data-p-active":this.active}}},components:{StepperSeparator:Oi}};function sl(r,e,t,n,s,i){var a=Ke("StepperSeparator");return i.isVertical?(k(),W($n,{key:0},[r.asChild?q(r.$slots,"default",{key:1,active:i.active,a11yAttrs:i.a11yAttrs,activateCallback:function(l){return i.updateValue(l)}}):(k(),Q(Rr,w({key:0,name:"p-toggleable-content"},r.ptm("transition")),{default:U(function(){return[mt((k(),Q(pt(r.as),w({id:i.id,class:r.cx("root"),role:"tabpanel","aria-controls":i.ariaControls},i.getPTOptions("root")),{default:U(function(){return[s.isSeparatorVisible?(k(),Q(a,{key:0})):ue("",!0),P("div",w({class:r.cx("content")},i.getPTOptions("content")),[q(r.$slots,"default",{active:i.active,activateCallback:function(l){return i.updateValue(l)}})],16)]}),_:3},16,["id","class","aria-controls"])),[[kn,i.active]])]}),_:3},16))],64)):(k(),W($n,{key:1},[r.asChild?r.asChild&&i.active?q(r.$slots,"default",{key:1,active:i.active,a11yAttrs:i.a11yAttrs,activateCallback:function(l){return i.updateValue(l)}}):ue("",!0):mt((k(),Q(pt(r.as),w({key:0,id:i.id,class:r.cx("root"),role:"tabpanel","aria-controls":i.ariaControls},i.getPTOptions("root")),{default:U(function(){return[q(r.$slots,"default",{active:i.active,activateCallback:function(l){return i.updateValue(l)}})]}),_:3},16,["id","class","aria-controls"])),[[kn,i.active]])],64))}En.render=sl;function il(){return{generatePrompt:e=>(console.log("data",e),`
      I am an entrepreneur, you are my assistant. I have come to you to help me with my business plan.
      I want a detailed answer. I will answer a few questions to make it easier for you to write it.
      Create a step-by-step guide for me based on your answers. Your answer should be formatted as follows.
      The answer should be big and understandable to a person.

      1. QuestionWhat product or service do you plan to offer? My answer is: ${e.productOrService}.
      2. Who is your target audience? My answer is: ${e.targetAudience}.
      3. What region or city do you plan to work in? My answer is: ${e.regionOrCity}.
      4. What kind of start-up capital do you plan to invest? My answer is: ${e.startUpCapital}.
      5. What sales channels do you plan to utilize? My answer is: ${e.salesChannels}.
      6. What are the key costs you are planning for? My answer is: ${e.keyCosts}.
      7. What are your main goals for your first year? My answer is: ${e.mainGoals}.


      Your answer should be formatted as follows. The answer should be big and understandable to a person.

      business_plan: [
        {
          "step": 1, // Question number.
          "title": "", // Question title.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 2, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 3, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 4, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 5, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 6, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
        {
          "step": 7, // Question number.
          "title": "", // Question number.
          "what_i_have_to_do": "" // What i have to do? Gime me long answer!
          "where_to_start": "" // Where to start? Gime me short answer!
        },
      ],
      others: { // Additional information will be available here.
        sustainability: { // How can I ensure my business is sustainable? Gime me short answer!
          title: "",
          text: ""
        }
        calculations: { // Do I have enough money to start a business? I have ${e.startUpCapital}$. Gime me short answer!
          title: "",
          text: "" 
        }
        technology: { // What technology do I need? Gime me short answer!
          title: "",
          text: "" 
        }
        marketing: { // What marketing strategies should I use? Reach a monthly profit of $1000
          title: "",
          text: ""
        }
        financing: { // What financing options are available? Gime me short answer!
          title: "",
          text: "" 
        }
        community: { // How can I engage with the community? Gime me short answer!
          title: "",
          text: ""
        }
        logistics: { // How should I manage logistics? Gime me short answer!
          title: "",
          text: "" 
        }
        training: { // What training do I need? Gime me short answer!
          title: "",
          text: ""
        }
        branding: { // What should my branding strategy be? Gime me short answer!
          title: "",
          text: "" 
        }
        channels: { // What sales channels should I use? Gime me short answer!
          title: "",
          text: ""
        }
        growth: { // How can I grow my business? Gime me short answer!
          title: "",
          text: "" 
        }
        plans: { // Give me a plan for the next 5 years. Gime me short answer!
          title: "",
          text: ""
        }
        scale: { // How can I scale my business? Gime me short answer!
          title: "",
          text: "" 
        }
        risks: { // What are the risks? Gime me short answer!
          title: "",
          text: ""
        }
        backs: { // When will the business pay off? Gime me short answer!
          title: "",
          text: "" 
        }
        hr: { // What are my human resources needs? Gime me short answer!
          title: "",
          text: ""
        }
      }
    `)}}const al=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bt(async()=>{const{default:n}=await Promise.resolve().then(()=>St);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Dr extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class ol extends Dr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ll extends Dr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cl extends Dr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ur;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ur||(ur={}));var ul=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class dl{constructor(e,{headers:t={},customFetch:n,region:s=ur.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=al(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return ul(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(p=>{throw new ol(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new ll(u);if(!u.ok)throw new cl(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var ie={},Lr={},In={},Zt={},Rn={},jn={},hl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yt=hl();const fl=yt.fetch,Ti=yt.fetch.bind(yt),Ei=yt.Headers,pl=yt.Request,gl=yt.Response,St=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ei,Request:pl,Response:gl,default:Ti,fetch:fl},Symbol.toStringTag,{value:"Module"})),ml=Co(St);var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});let bl=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Dn.default=bl;var Ii=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jn,"__esModule",{value:!0});const vl=Ii(ml),yl=Ii(Dn);let _l=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vl.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const S=await i.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=S:u=JSON.parse(S))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&m&&m.length>1&&(d=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new yl.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};jn.default=_l;var wl=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rn,"__esModule",{value:!0});const Sl=wl(jn);let kl=class extends Sl.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rn.default=kl;var $l=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});const Pl=$l(Rn);let Cl=class extends Pl.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Zt.default=Cl;var xl=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(In,"__esModule",{value:!0});const At=xl(Zt);let Al=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new At.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new At.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new At.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new At.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new At.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};In.default=Al;var Ln={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.version=void 0;Nn.version="0.0.0-automated";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.DEFAULT_HEADERS=void 0;const Ol=Nn;Ln.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ol.version}`};var Ri=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lr,"__esModule",{value:!0});const Tl=Ri(In),El=Ri(Zt),Il=Ln;let Rl=class ji{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Il.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Tl.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ji(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new El.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Lr.default=Rl;var kt=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ie,"__esModule",{value:!0});ie.PostgrestError=ie.PostgrestBuilder=ie.PostgrestTransformBuilder=ie.PostgrestFilterBuilder=ie.PostgrestQueryBuilder=ie.PostgrestClient=void 0;const Di=kt(Lr);ie.PostgrestClient=Di.default;const Li=kt(In);ie.PostgrestQueryBuilder=Li.default;const Ni=kt(Zt);ie.PostgrestFilterBuilder=Ni.default;const Bi=kt(Rn);ie.PostgrestTransformBuilder=Bi.default;const Ui=kt(jn);ie.PostgrestBuilder=Ui.default;const Mi=kt(Dn);ie.PostgrestError=Mi.default;var jl=ie.default={PostgrestClient:Di.default,PostgrestQueryBuilder:Li.default,PostgrestFilterBuilder:Ni.default,PostgrestTransformBuilder:Bi.default,PostgrestBuilder:Ui.default,PostgrestError:Mi.default};const{PostgrestClient:Dl,PostgrestQueryBuilder:rf,PostgrestFilterBuilder:sf,PostgrestTransformBuilder:af,PostgrestBuilder:of,PostgrestError:lf}=jl,Ll="2.11.2",Nl={"X-Client-Info":`realtime-js/${Ll}`},Bl="1.0.0",Fi=1e4,Ul=1e3;var ct;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ct||(ct={}));var le;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(le||(le={}));var be;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(be||(be={}));var dr;(function(r){r.websocket="websocket"})(dr||(dr={}));var He;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(He||(He={}));class Ml{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Vi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(F||(F={}));const $s=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Fl(a,r,e,s),i),{})},Fl=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?Wi(i,a):hr(a)},Wi=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return zl(e,t)}switch(r){case F.bool:return Vl(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Wl(e);case F.json:case F.jsonb:return ql(e);case F.timestamp:return Hl(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return hr(e);default:return hr(e)}},hr=r=>r,Vl=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Wl=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ql=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},zl=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Wi(e,o))}return r},Hl=r=>typeof r=="string"?r.replace(" ","T"):r,qi=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Hn{constructor(e,t,n={},s=Fi){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ps;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ps||(Ps={}));class Bt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bt.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Bt.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bt.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(o[c]=p),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cs;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Cs||(Cs={}));var xs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(xs||(xs={}));var Ee;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ee||(Ee={}));class Nr{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Hn(this,be.join,this.params,this.timeout),this.rejoinTimer=new Vi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Bt(this),this.broadcastEndpointURL=qi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Ee.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ee.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Ee.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const m=h[g],{filter:{event:S,schema:v,table:b,filter:y}}=m,$=u&&u[g];if($&&$.event===S&&$.schema===v&&$.table===b&&$.filter===y)p.push(Object.assign(Object.assign({},m),{id:$.id}));else{this.unsubscribe(),e==null||e(Ee.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Ee.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ee.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ee.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Hn(this,be.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hn(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=be;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(f=>f.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var p,g,m,S,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const y=f.id,$=(p=f.filter)===null||p===void 0?void 0:p.event;return y&&((g=t.ids)===null||g===void 0?void 0:g.includes(y))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const y=(v=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return y==="*"||y===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:m,commit_timestamp:S,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:S,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nr.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(be.close,{},e)}_onError(e){this._on(be.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=$s(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=$s(e.columns,e.old_record)),t}}const Jl=()=>{},Gl=typeof WebSocket<"u",Kl=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ql{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nl,this.params={},this.timeout=Fi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jl,this.conn=null,this.sendBuffer=[],this.serializer=new Ml,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>bt(async()=>{const{default:l}=await Promise.resolve().then(()=>St);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${dr.websocket}`,this.httpEndpoint=qi(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gl){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xl(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bt(async()=>{const{default:e}=await import("./browser-CcOh_9Dq.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1,2,3,4])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bl}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ct.connecting:return He.Connecting;case ct.open:return He.Open;case ct.closing:return He.Closing;default:return He.Closed}}isConnected(){return this.connectionState()===He.Open}channel(e,t={config:{}}){const n=new Nr(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(be.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ul,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(be.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Kl],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Xl{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ct.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Br extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Yl extends Br{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fr extends Br{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Zl=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const zi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bt(async()=>{const{default:n}=await Promise.resolve().then(()=>St);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ec=()=>Zl(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bt(()=>Promise.resolve().then(()=>St),void 0)).Response:Response}),pr=r=>{if(Array.isArray(r))return r.map(t=>pr(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pr(n)}),e};var Xe=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Jn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),tc=(r,e,t)=>Xe(void 0,void 0,void 0,function*(){const n=yield ec();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new Yl(Jn(s),r.status||500))}).catch(s=>{e(new fr(Jn(s),s))}):e(new fr(Jn(r),r))}),nc=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function en(r,e,t,n,s,i){return Xe(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,nc(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>tc(l,o,n))})})}function Pn(r,e,t,n){return Xe(this,void 0,void 0,function*(){return en(r,"GET",e,t,n)})}function Be(r,e,t,n,s){return Xe(this,void 0,void 0,function*(){return en(r,"POST",e,n,s,t)})}function rc(r,e,t,n,s){return Xe(this,void 0,void 0,function*(){return en(r,"PUT",e,n,s,t)})}function sc(r,e,t,n){return Xe(this,void 0,void 0,function*(){return en(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Hi(r,e,t,n,s){return Xe(this,void 0,void 0,function*(){return en(r,"DELETE",e,n,s,t)})}var re=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const ic={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},As={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ac{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=zi(s)}uploadOrUpdate(e,t,n,s){return re(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},As),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}upload(e,t,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:As.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Be(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Br("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}update(e,t,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return re(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}copy(e,t,n){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Be(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return re(this,void 0,void 0,function*(){try{const s=yield Be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}download(e,t){return re(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Pn(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}info(e){return re(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Pn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:pr(n),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}exists(e){return re(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield sc(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Y(n)&&n instanceof fr){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}list(e,t,n){return re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ic),t),{prefix:e||""});return{data:yield Be(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const oc="2.7.1",lc={"X-Client-Info":`storage-js/${oc}`};var et=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class cc{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},lc),t),this.fetch=zi(n)}listBuckets(){return et(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return et(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return et(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}emptyBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}}class uc extends cc{constructor(e,t={},n){super(e,t,n)}from(e){return new ac(this.url,this.headers,e,this.fetch)}}const dc="2.48.1";let Et="";typeof Deno<"u"?Et="deno":typeof document<"u"?Et="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Et="react-native":Et="node";const hc={"X-Client-Info":`supabase-js-${Et}/${dc}`},fc={headers:hc},pc={schema:"public"},gc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mc={};var bc=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const vc=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ti:e=fetch,(...t)=>e(...t)},yc=()=>typeof Headers>"u"?Ei:Headers,_c=(r,e,t)=>{const n=vc(t),s=yc();return(i,a)=>bc(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var wc=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function Sc(r){return r.replace(/\/$/,"")}function kc(r,e){const{db:t,auth:n,realtime:s,global:i}=r,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>wc(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const Ji="2.67.3",$c="http://localhost:9999",Pc="supabase.auth.token",Cc={"X-Client-Info":`gotrue-js/${Ji}`},Os=10,gr="X-Supabase-Api-Version",Gi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function xc(r){return Math.round(Date.now()/1e3)+r}function Ac(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ke=()=>typeof window<"u"&&typeof document<"u",qe={tested:!1,writable:!1},Ut=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qe.tested)return qe.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),qe.tested=!0,qe.writable=!0}catch{qe.tested=!0,qe.writable=!1}return qe.writable};function Oc(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ki=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bt(async()=>{const{default:n}=await Promise.resolve().then(()=>St);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Tc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Qi=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ln=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},cn=async(r,e)=>{await r.removeItem(e)};function Ec(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,i,a,o,l,c,u=0;for(r=r.replace("-","+").replace("_","/");u<r.length;)a=e.indexOf(r.charAt(u++)),o=e.indexOf(r.charAt(u++)),l=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),n=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|c,t=t+String.fromCharCode(n),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Bn{constructor(){this.promise=new Bn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Bn.promiseConstructor=Promise;function Ts(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(Ec(n))}async function Ic(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Rc(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function jc(r){return("0"+r.toString(16)).substr(-2)}function Dc(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,jc).join("")}async function Lc(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Nc(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bc(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Lc(r);return Nc(t)}async function tt(r,e,t=!1){const n=Dc();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Qi(r,`${e}-code-verifier`,s);const i=await Bc(n);return[i,n===i?"plain":"s256"]}const Uc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mc(r){const e=r.headers.get(gr);if(!e||!e.match(Uc))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ur extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function C(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Fc extends Ur{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Vc(r){return C(r)&&r.name==="AuthApiError"}class Xi extends Ur{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ye extends Ur{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Le extends Ye{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wc(r){return C(r)&&r.name==="AuthSessionMissingError"}class Gn extends Ye{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class un extends Ye{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dn extends Ye{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qc(r){return C(r)&&r.name==="AuthImplicitGrantRedirectError"}class Es extends Ye{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mr extends Ye{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Kn(r){return C(r)&&r.name==="AuthRetryableFetchError"}class Is extends Ye{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var zc=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const ze=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Hc=[502,503,504];async function Rs(r){var e;if(!Tc(r))throw new mr(ze(r),0);if(Hc.includes(r.status))throw new mr(ze(r),r.status);let t;try{t=await r.json()}catch(i){throw new Xi(ze(i),i)}let n;const s=Mc(r);if(s&&s.getTime()>=Gi["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Is(ze(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Le}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Is(ze(t),r.status,t.weak_password.reasons);throw new Fc(ze(t),r.status||500,n)}const Jc=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function E(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[gr]||(i[gr]=Gi["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Gc(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Gc(r,e,t,n,s,i){const a=Jc(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new mr(ze(l),0)}if(o.ok||await Rs(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Rs(l)}}function Ne(r){var e;let t=null;Yc(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=xc(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function js(r){const e=Ne(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Me(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Kc(r){return{data:r,error:null}}function Qc(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=zc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Xc(r){return r}function Yc(r){return r.access_token&&r.refresh_token&&r.expires_in}var Zc=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class eu{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ki(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await E(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await E(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Me})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Zc(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await E(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qc,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(C(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await E(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Me})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await E(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xc});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(C(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await E(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Me})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await E(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Me})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await E(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Me})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await E(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(C(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await E(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}}}const tu={getItem:r=>Ut()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Ut()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Ut()&&globalThis.localStorage.removeItem(r)}};function Ds(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function nu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nt={debug:!!(globalThis&&Ut()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ru extends Yi{}async function su(r,e,t){nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),nt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new ru(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(nt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}nu();const iu={url:$c,storageKey:Pc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ot=30*1e3,Ls=3;async function Ns(r,e,t){return await t()}class qt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qt.nextInstanceID,qt.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},iu),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eu({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ki(s.fetch),this.lock=s.lock||Ns,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ke()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=su:this.lock=Ns,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ut()?this.storage=tu:(this.memoryStorage={},this.storage=Ds(this.memoryStorage)):(this.memoryStorage={},this.storage=Ds(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ji}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Oc(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qc(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return C(t)?{error:t}:{error:new Xi("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ne}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await tt(this.storage,this.storageKey)),i=await E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ne})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ne})}else throw new un("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await E(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:js})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await E(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:js})}else throw new un("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await E(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ne});if(await cn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(C(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await E(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ne}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await tt(this.storage,this.storageKey));const{error:d}=await E(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await E(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new un("You must provide either an email or phone number.")}catch(o){if(C(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await E(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ne});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await tt(this.storage,this.storageKey)),await E(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Kc})}catch(i){if(C(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Le;const{error:s}=await E(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(C(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await E(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await E(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new un("You must provide either an email or phone number and a type")}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await E(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Me}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Le}:await E(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Me})})}catch(t){if(C(t))return Wc(t)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Le;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await tt(this.storage,this.storageKey));const{data:c,error:u}=await E(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Me});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Ts(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Le;const t=Date.now()/1e3;let n=t,s=!0,i=null;const a=Ts(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(C(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Le;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ke())throw new dn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Es("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Es("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new dn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ot&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:m}=await this._getUser(i);if(m)throw m;const S={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(C(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Vc(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Ac(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await tt(this.storage,this.storageKey,!0));try{return await E(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(C(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await E(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ke()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(C(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await E(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Rc(async s=>(s>0&&await Ic(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await E(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ne})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Kn(i)&&Date.now()+a-n<Ot})}catch(n){if(this._debug(t,"error",n),C(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ke()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await ln(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+Os;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Os}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Kn(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bn;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Le;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),C(i)){const a={session:null,error:i};return Kn(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await cn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ot);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ot);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ot}ms, refresh threshold is ${Ls} ticks`),s<=Ls&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await tt(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await E(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await E(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await E(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await E(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}qt.nextInstanceID=0;const au=qt;class ou extends au{constructor(e){super(e)}}var lu=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class cu{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Sc(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:pc,realtime:mc,auth:Object.assign(Object.assign({},gc),{storageKey:l}),global:fc},u=kc(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=_c(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Dl(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new dl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return lu(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ou({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ql(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uu=(r,e,t)=>new cu(r,e,t),du=uu("https://ufotpegzlfronvdxuwoi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmb3RwZWd6bGZyb252ZHh1d29pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc4OTcwMDQsImV4cCI6MjA1MzQ3MzAwNH0.KhARkNTKloN2b1nMu_xgUEugq8Ock_4eJvgKItZwxS8"),br="RFC3986",vr={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},hu="RFC1738",fu=Array.isArray,we=(()=>{const r=[];for(let e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r})(),Qn=1024,pu=(r,e,t,n,s)=>{if(r.length===0)return r;let i=r;if(typeof r=="symbol"?i=Symbol.prototype.toString.call(r):typeof r!="string"&&(i=String(r)),t==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Qn){const l=i.length>=Qn?i.slice(o,o+Qn):i,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===hu&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=we[d];continue}if(d<2048){c[c.length]=we[192|d>>6]+we[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=we[224|d>>12]+we[128|d>>6&63]+we[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=we[240|d>>18]+we[128|d>>12&63]+we[128|d>>6&63]+we[128|d&63]}a+=c.join("")}return a};function gu(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Bs(r,e){if(fu(r)){const t=[];for(let n=0;n<r.length;n+=1)t.push(e(r[n]));return t}return e(r)}const mu=Object.prototype.hasOwnProperty,Zi={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,e){return String(r)+"["+e+"]"},repeat(r){return String(r)}},$e=Array.isArray,bu=Array.prototype.push,ea=function(r,e){bu.apply(r,$e(e)?e:[e])},vu=Date.prototype.toISOString,K={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pu,encodeValuesOnly:!1,format:br,formatter:vr[br],indices:!1,serializeDate(r){return vu.call(r)},skipNulls:!1,strictNullHandling:!1};function yu(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const Xn={};function ta(r,e,t,n,s,i,a,o,l,c,u,d,h,f,p,g,m,S){let v=r,b=S,y=0,$=!1;for(;(b=b.get(Xn))!==void 0&&!$;){const H=b.get(r);if(y+=1,typeof H<"u"){if(H===y)throw new RangeError("Cyclic object value");$=!0}typeof b.get(Xn)>"u"&&(y=0)}if(typeof c=="function"?v=c(e,v):v instanceof Date?v=h==null?void 0:h(v):t==="comma"&&$e(v)&&(v=Bs(v,function(H){return H instanceof Date?h==null?void 0:h(H):H})),v===null){if(i)return l&&!g?l(e,K.encoder,m,"key",f):e;v=""}if(yu(v)||gu(v)){if(l){const H=g?e:l(e,K.encoder,m,"key",f);return[(p==null?void 0:p(H))+"="+(p==null?void 0:p(l(v,K.encoder,m,"value",f)))]}return[(p==null?void 0:p(e))+"="+(p==null?void 0:p(String(v)))]}const A=[];if(typeof v>"u")return A;let I;if(t==="comma"&&$e(v))g&&l&&(v=Bs(v,l)),I=[{value:v.length>0?v.join(",")||null:void 0}];else if($e(c))I=c;else{const H=Object.keys(v);I=u?H.sort(u):H}const he=o?String(e).replace(/\./g,"%2E"):String(e),J=n&&$e(v)&&v.length===1?he+"[]":he;if(s&&$e(v)&&v.length===0)return J+"[]";for(let H=0;H<I.length;++H){const M=I[H],Ze=typeof M=="object"&&typeof M.value<"u"?M.value:v[M];if(a&&Ze===null)continue;const qn=d&&o?M.replace(/\./g,"%2E"):M,fo=$e(v)?typeof t=="function"?t(J,qn):J:J+(d?"."+qn:"["+qn+"]");S.set(r,y);const ms=new WeakMap;ms.set(Xn,S),ea(A,ta(Ze,fo,t,n,s,i,a,o,t==="comma"&&g&&$e(v)?null:l,c,u,d,h,f,p,g,m,ms))}return A}function _u(r=K){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=r.charset||K.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=br;if(typeof r.format<"u"){if(!mu.call(vr,r.format))throw new TypeError("Unknown format option provided.");t=r.format}const n=vr[t];let s=K.filter;(typeof r.filter=="function"||$e(r.filter))&&(s=r.filter);let i;if(r.arrayFormat&&r.arrayFormat in Zi?i=r.arrayFormat:"indices"in r?i=r.indices?"indices":"repeat":i=K.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:K.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:K.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:K.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:K.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?K.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:K.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:K.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:K.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:K.encodeValuesOnly,filter:s,format:t,formatter:n,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:K.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:K.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:K.strictNullHandling}}function wu(r,e={}){let t=r;const n=_u(e);let s,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):$e(n.filter)&&(i=n.filter,s=i);const a=[];if(typeof t!="object"||t===null)return"";const o=Zi[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;s||(s=Object.keys(t)),n.sort&&s.sort(n.sort);const c=new WeakMap;for(let h=0;h<s.length;++h){const f=s[h];n.skipNulls&&t[f]===null||ea(a,ta(t[f],f,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const u=a.join(n.delimiter);let d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const it="4.80.0";let Us=!1,Mt,na,ra,yr,sa,ia,aa,oa,la;function Su(r,e={auto:!1}){if(Us)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(Mt)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${Mt}'\``);Us=e.auto,Mt=r.kind,na=r.fetch,ra=r.FormData,yr=r.File,sa=r.ReadableStream,ia=r.getMultipartRequestOptions,aa=r.getDefaultAgent,oa=r.fileFromPath,la=r.isFsReadStream}class ku{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function $u({manuallyImported:r}={}){const e=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,n,s,i;try{t=fetch,n=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:t,Request:n,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new ku(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}Mt||Su($u(),{auto:!0});class T extends Error{}class ee extends T{constructor(e,t,n,s){super(`${ee.makeMessage(e,t,n)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=t;const i=t;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,t,n){const s=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,n,s){if(!e||!s)return new Un({message:n,cause:wr(t)});const i=t==null?void 0:t.error;return e===400?new ca(e,i,n,s):e===401?new ua(e,i,n,s):e===403?new da(e,i,n,s):e===404?new ha(e,i,n,s):e===409?new fa(e,i,n,s):e===422?new pa(e,i,n,s):e===429?new ga(e,i,n,s):e>=500?new ma(e,i,n,s):new ee(e,i,n,s)}}class ve extends ee{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Un extends ee{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Mr extends Un{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ca extends ee{}class ua extends ee{}class da extends ee{}class ha extends ee{}class fa extends ee{}class pa extends ee{}class ga extends ee{}class ma extends ee{}class ba extends T{constructor(){super("Could not parse response content as the length limit was reached")}}class va extends T{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Qe{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Qe.NEWLINE_CHARS.has(t[t.length-1]||"");let s=t.split(Qe.NEWLINE_REGEXP);return n&&s.pop(),s.length===1&&!n?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),n||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new T(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new T(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new T("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Qe.NEWLINE_CHARS=new Set([`
`,"\r"]);Qe.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ya(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ce{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const a of Pu(e,t))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new ee(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new ee(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||t.abort()}}return new Ce(s,t)}static fromReadableStream(e,t){let n=!1;async function*s(){const a=new Qe,o=ya(e);for await(const l of o)for(const c of a.decode(l))yield c;for(const l of a.flush())yield l}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||t.abort()}}return new Ce(i,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=n.next();e.push(a),t.push(a)}return i.shift()}});return[new Ce(()=>s(e),this.controller),new Ce(()=>s(t),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new sa({async start(){t=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await t.next();if(a)return s.close();const o=n.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=t.return)==null?void 0:s.call(t))}})}}async function*Pu(r,e){if(!r.body)throw e.abort(),new T("Attempted to iterate over a response with no body");const t=new Au,n=new Qe,s=ya(r.body);for await(const i of Cu(s))for(const a of n.decode(i)){const o=t.decode(a);o&&(yield o)}for(const i of n.flush()){const a=t.decode(i);a&&(yield a)}}async function*Cu(r){let e=new Uint8Array;for await(const t of r){if(t==null)continue;const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let i;for(;(i=xu(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function xu(r){for(let n=0;n<r.length-2;n++){if(r[n]===10&&r[n+1]===10||r[n]===13&&r[n+1]===13)return n+2;if(r[n]===13&&r[n+1]===10&&n+3<r.length&&r[n+2]===13&&r[n+3]===10)return n+4}return-1}class Au{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,s]=Ou(e,":");return s.startsWith(" ")&&(s=s.substring(1)),t==="event"?this.event=s:t==="data"&&this.data.push(s),null}}function Ou(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}const _a=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",wa=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Mn(r),Mn=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Tu=r=>wa(r)||_a(r)||la(r);async function Sa(r,e,t){var s;if(r=await r,wa(r))return r;if(_a(r)){const i=await r.blob();e||(e=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Mn(i)?[await i.arrayBuffer()]:[i];return new yr(a,e,t)}const n=await Eu(r);if(e||(e=Ru(r)??"unknown_file"),!(t!=null&&t.type)){const i=(s=n[0])==null?void 0:s.type;typeof i=="string"&&(t={...t,type:i})}return new yr(n,e,t)}async function Eu(r){var t;let e=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)e.push(r);else if(Mn(r))e.push(await r.arrayBuffer());else if(ju(r))for await(const n of r)e.push(n);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(t=r==null?void 0:r.constructor)==null?void 0:t.name}; props: ${Iu(r)}`);return e}function Iu(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function Ru(r){var e;return Yn(r.name)||Yn(r.filename)||((e=Yn(r.path))==null?void 0:e.split(/[\\/]/).pop())}const Yn=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},ju=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Ms=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",_t=async r=>{const e=await Du(r.body);return ia(e,r)},Du=async r=>{const e=new ra;return await Promise.all(Object.entries(r||{}).map(([t,n])=>_r(e,t,n))),e},_r=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(Tu(t)){const n=await Sa(t);r.append(e,n)}else if(Array.isArray(t))await Promise.all(t.map(n=>_r(r,e+"[]",n)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([n,s])=>_r(r,`${e}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var ut={},Lu=function(r,e,t,n,s){if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t},Nu=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},hn;async function ka(r){const{response:e}=r;if(r.options.stream)return dt("response",e.status,e.url,e.headers,e.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(e,r.controller):Ce.fromSSEResponse(e,r.controller);if(e.status===204)return null;if(r.options.__binaryResponse)return e;const t=e.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const i=await e.json();return dt("response",e.status,e.url,e.headers,i),$a(i,e)}const s=await e.text();return dt("response",e.status,e.url,e.headers,s),s}function $a(r,e){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Fn extends Promise{constructor(e,t=ka){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Fn(this.responsePromise,async t=>$a(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Bu{constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Zn("maxRetries",t),this.timeout=Zn("timeout",n),this.httpAgent=s,this.fetch=i??na}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...qu(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Gu()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(async s=>{const i=s&&Mn(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:t,...s,body:i}}))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var g;const{method:n,path:s,query:i,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Ms(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(s,i);"timeout"in e&&Zn("timeout",e.timeout);const u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??aa(c),h=u+1e3;typeof((g=d==null?void 0:d.options)==null?void 0:g.timeout)=="number"&&h>(d.options.timeout??0)&&(d.options.timeout=h),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:a,contentLength:l,retryCount:t});return{req:{method:n,...o&&{body:o},headers:f,...d&&{agent:d},signal:e.signal??null},url:c,timeout:u}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:s}){const i={};n&&(i["content-length"]=n);const a=this.defaultHeaders(e);return qs(i,a),qs(i,t),Ms(e.body)&&Mt!=="node"&&delete i["content-type"],Hs(a,"x-stainless-retry-count")===void 0&&Hs(t,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,t),i}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,n,s){return ee.generate(e,t,n,s)}request(e,t=null){return new Fn(this.makeRequest(e,t))}async makeRequest(e,t){var d,h;const n=await e,s=n.maxRetries??this.maxRetries;t==null&&(t=s),await this.prepareOptions(n);const{req:i,url:a,timeout:o}=this.buildRequest(n,{retryCount:s-t});if(await this.prepareRequest(i,{url:a,options:n}),dt("request",a,n,i.headers),(d=n.signal)!=null&&d.aborted)throw new ve;const l=new AbortController,c=await this.fetchWithTimeout(a,i,o,l).catch(wr);if(c instanceof Error){if((h=n.signal)!=null&&h.aborted)throw new ve;if(t)return this.retryRequest(n,t);throw c.name==="AbortError"?new Mr:new Un({cause:c})}const u=Mu(c.headers);if(!c.ok){if(t&&this.shouldRetry(c)){const v=`retrying, ${t} attempts remaining`;return dt(`response (error; ${v})`,c.status,a,u),this.retryRequest(n,t,u)}const f=await c.text().catch(v=>wr(v).message),p=zu(f),g=p?void 0:f;throw dt(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,u,g),this.makeStatusError(c.status,p,g,u)}return{response:c,options:n,controller:l}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Uu(this,n,e)}buildURL(e,t){const n=Ju(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Ca(s)||(t={...s,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,n])=>typeof n<"u").map(([t,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(t)}=`;throw new T(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,n,s){const{signal:i,...a}=t||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),n),l={signal:s.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n){let s;const i=n==null?void 0:n["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=n==null?void 0:n["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,o)}return await tn(s),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const i=t-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${it}`}}class Pa{constructor(e,t,n,s){hn.set(this,void 0),Lu(this,hn,e),this.options=s,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new T("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[s,i]of n)e.url.searchParams.set(s,i);t.query=void 0,t.path=e.url.toString()}return await Nu(this,hn,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(hn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Uu extends Fn{constructor(e,t,n){super(t,async s=>new n(e,s.response,await ka(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Mu=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Fu={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ae=r=>typeof r=="object"&&r!==null&&!Ca(r)&&Object.keys(r).every(e=>xa(Fu,e)),Vu=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":it,"X-Stainless-OS":Vs(Deno.build.os),"X-Stainless-Arch":Fs(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":it,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":it,"X-Stainless-OS":Vs(process.platform),"X-Stainless-Arch":Fs(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=Wu();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":it,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":it,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Wu(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const n=t.exec(navigator.userAgent);if(n){const s=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const Fs=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Vs=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Ws;const qu=()=>Ws??(Ws=Vu()),zu=r=>{try{return JSON.parse(r)}catch{return}},Hu=/^[a-z][a-z0-9+.-]*:/i,Ju=r=>Hu.test(r),tn=r=>new Promise(e=>setTimeout(e,r)),Zn=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new T(`${r} must be an integer`);if(e<0)throw new T(`${r} must be a positive integer`);return e},wr=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},fn=r=>{var e,t,n,s;if(typeof process<"u")return((e=ut==null?void 0:ut[r])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(n=(t=Deno.env)==null?void 0:t.get)==null?void 0:n.call(t,r))==null?void 0:s.trim()};function Ca(r){if(!r)return!0;for(const e in r)return!1;return!0}function xa(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function qs(r,e){for(const t in e){if(!xa(e,t))continue;const n=t.toLowerCase();if(!n)continue;const s=e[t];s===null?delete r[n]:s!==void 0&&(r[n]=s)}}const zs=new Set(["authorization","api-key"]);function dt(r,...e){if(typeof process<"u"&&(ut==null?void 0:ut.DEBUG)==="true"){const t=e.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const a in n.headers)zs.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let s=null;for(const i in n)zs.has(i.toLowerCase())&&(s??(s={...n}),s[i]="REDACTED");return s??n});console.log(`OpenAI:DEBUG:${r}`,...t)}}const Gu=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),Ku=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Qu=r=>typeof(r==null?void 0:r.get)=="function",Hs=(r,e)=>{var n;const t=e.toLowerCase();if(Qu(r)){const s=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,t,e.toUpperCase(),s]){const a=r.get(i);if(a)return a}}for(const[s,i]of Object.entries(r))if(s.toLowerCase()===t)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function er(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class Xu extends Pa{constructor(e,t,n,s){super(e,t,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class _e extends Pa{constructor(e,t,n,s){super(e,t,n,s),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const t=(n=e[e.length-1])==null?void 0:n.id;return t?{params:{after:t}}:null}}class D{constructor(e){this._client=e}}let Aa=class extends D{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}},Fr=class extends D{constructor(){super(...arguments),this.completions=new Aa(this._client)}};Fr.Completions=Aa;class Oa extends D{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t==null?void 0:t.headers},__binaryResponse:!0})}}class Ta extends D{create(e,t){return this._client.post("/audio/transcriptions",_t({body:e,...t}))}}class Ea extends D{create(e,t){return this._client.post("/audio/translations",_t({body:e,...t}))}}class nn extends D{constructor(){super(...arguments),this.transcriptions=new Ta(this._client),this.translations=new Ea(this._client),this.speech=new Oa(this._client)}}nn.Transcriptions=Ta;nn.Translations=Ea;nn.Speech=Oa;class Vr extends D{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return ae(e)?this.list({},e):this._client.getAPIList("/batches",Wr,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class Wr extends _e{}Vr.BatchesPage=Wr;class qr extends D{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},t){return ae(e)?this.list({},e):this._client.getAPIList("/assistants",zr,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class zr extends _e{}qr.AssistantsPage=zr;function Js(r){return typeof r.parse=="function"}const ht=r=>(r==null?void 0:r.role)==="assistant",Ia=r=>(r==null?void 0:r.role)==="function",Ra=r=>(r==null?void 0:r.role)==="tool";var ge=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},z=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Sr,bn,vn,It,Rt,yn,jt,Te,Dt,Cn,xn,at,ja;class Da{constructor(){Sr.add(this),this.controller=new AbortController,bn.set(this,void 0),vn.set(this,()=>{}),It.set(this,()=>{}),Rt.set(this,void 0),yn.set(this,()=>{}),jt.set(this,()=>{}),Te.set(this,{}),Dt.set(this,!1),Cn.set(this,!1),xn.set(this,!1),at.set(this,!1),ge(this,bn,new Promise((e,t)=>{ge(this,vn,e,"f"),ge(this,It,t,"f")}),"f"),ge(this,Rt,new Promise((e,t)=>{ge(this,yn,e,"f"),ge(this,jt,t,"f")}),"f"),z(this,bn,"f").catch(()=>{}),z(this,Rt,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},z(this,Sr,"m",ja).bind(this))},0)}_connected(){this.ended||(z(this,vn,"f").call(this),this._emit("connect"))}get ended(){return z(this,Dt,"f")}get errored(){return z(this,Cn,"f")}get aborted(){return z(this,xn,"f")}abort(){this.controller.abort()}on(e,t){return(z(this,Te,"f")[e]||(z(this,Te,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=z(this,Te,"f")[e];if(!n)return this;const s=n.findIndex(i=>i.listener===t);return s>=0&&n.splice(s,1),this}once(e,t){return(z(this,Te,"f")[e]||(z(this,Te,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{ge(this,at,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,t)})}async done(){ge(this,at,!0,"f"),await z(this,Rt,"f")}_emit(e,...t){if(z(this,Dt,"f"))return;e==="end"&&(ge(this,Dt,!0,"f"),z(this,yn,"f").call(this));const n=z(this,Te,"f")[e];if(n&&(z(this,Te,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...t))),e==="abort"){const s=t[0];!z(this,at,"f")&&!(n!=null&&n.length)&&Promise.reject(s),z(this,It,"f").call(this,s),z(this,jt,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=t[0];!z(this,at,"f")&&!(n!=null&&n.length)&&Promise.reject(s),z(this,It,"f").call(this,s),z(this,jt,"f").call(this,s),this._emit("end")}}_emitFinal(){}}bn=new WeakMap,vn=new WeakMap,It=new WeakMap,Rt=new WeakMap,yn=new WeakMap,jt=new WeakMap,Te=new WeakMap,Dt=new WeakMap,Cn=new WeakMap,xn=new WeakMap,at=new WeakMap,Sr=new WeakSet,ja=function(e){if(ge(this,Cn,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ve),e instanceof ve)return ge(this,xn,!0,"f"),this._emit("abort",e);if(e instanceof T)return this._emit("error",e);if(e instanceof Error){const t=new T(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new T(String(e)))};function La(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function rn(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function Yu(r,e){return!e||!Na(e)?{...r,choices:r.choices.map(t=>({...t,message:{...t.message,parsed:null,tool_calls:t.message.tool_calls??[]}}))}:Hr(r,e)}function Hr(r,e){const t=r.choices.map(n=>{var s;if(n.finish_reason==="length")throw new ba;if(n.finish_reason==="content_filter")throw new va;return{...n,message:{...n.message,tool_calls:((s=n.message.tool_calls)==null?void 0:s.map(i=>ed(e,i)))??[],parsed:n.message.content&&!n.message.refusal?Zu(e,n.message.content):null}}});return{...r,choices:t}}function Zu(r,e){var t,n;return((t=r.response_format)==null?void 0:t.type)!=="json_schema"?null:((n=r.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(e):JSON.parse(e):null}function ed(r,e){var n;const t=(n=r.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:rn(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function td(r,e){var n;if(!r)return!1;const t=(n=r.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return rn(t)||(t==null?void 0:t.function.strict)||!1}function Na(r){var e;return La(r.response_format)?!0:((e=r.tools)==null?void 0:e.some(t=>rn(t)||t.type==="function"&&t.function.strict===!0))??!1}function nd(r){for(const e of r??[]){if(e.type!=="function")throw new T(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new T(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var se=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},te,kr,An,$r,Pr,Cr,Ba,xr;const Gs=10;class Ua extends Da{constructor(){super(...arguments),te.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(n=e.choices[0])==null?void 0:n.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(Ia(e)||Ra(e))&&e.content)this._emit("functionCallResult",e.content);else if(ht(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(ht(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new T("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),se(this,te,"m",kr).call(this)}async finalMessage(){return await this.done(),se(this,te,"m",An).call(this)}async finalFunctionCall(){return await this.done(),se(this,te,"m",$r).call(this)}async finalFunctionCallResult(){return await this.done(),se(this,te,"m",Pr).call(this)}async totalUsage(){return await this.done(),se(this,te,"m",Cr).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=se(this,te,"m",An).call(this);t&&this._emit("finalMessage",t);const n=se(this,te,"m",kr).call(this);n&&this._emit("finalContent",n);const s=se(this,te,"m",$r).call(this);s&&this._emit("finalFunctionCall",s);const i=se(this,te,"m",Pr).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",se(this,te,"m",Cr).call(this))}async _createChatCompletion(e,t,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),se(this,te,"m",Ba).call(this,t);const i=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Hr(i,t))}async _runChatCompletion(e,t,n){for(const s of t.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){var h;const s="function",{function_call:i="auto",stream:a,...o}=t,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Gs}=n||{},u={};for(const f of t.functions)u[f.name||f.function.name]=f;const d=t.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const g=(h=(await this._createChatCompletion(e,{...o,function_call:i,functions:d,messages:[...this.messages]},n)).choices[0])==null?void 0:h.message;if(!g)throw new T("missing message in ChatCompletion response");if(!g.function_call)return;const{name:m,arguments:S}=g.function_call,v=u[m];if(v){if(l&&l!==m){const A=`Invalid function_call: ${JSON.stringify(m)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:m,content:A});continue}}else{const A=`Invalid function_call: ${JSON.stringify(m)}. Available options are: ${d.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:m,content:A});continue}let b;try{b=Js(v)?await v.parse(S):S}catch(A){this._addMessage({role:s,name:m,content:A instanceof Error?A.message:String(A)});continue}const y=await v.function(b,this),$=se(this,te,"m",xr).call(this,y);if(this._addMessage({role:s,name:m,content:$}),l)return}}async _runTools(e,t,n){var f,p,g;const s="tool",{tool_choice:i="auto",stream:a,...o}=t,l=typeof i!="string"&&((f=i==null?void 0:i.function)==null?void 0:f.name),{maxChatCompletions:c=Gs}=n||{},u=t.tools.map(m=>{if(rn(m)){if(!m.$callback)throw new T("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),d={};for(const m of u)m.type==="function"&&(d[m.function.name||m.function.function.name]=m.function);const h="tools"in t?u.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of t.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const v=(p=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:h,messages:[...this.messages]},n)).choices[0])==null?void 0:p.message;if(!v)throw new T("missing message in ChatCompletion response");if(!((g=v.tool_calls)!=null&&g.length))return;for(const b of v.tool_calls){if(b.type!=="function")continue;const y=b.id,{name:$,arguments:A}=b.function,I=d[$];if(I){if(l&&l!==$){const M=`Invalid tool_call: ${JSON.stringify($)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:y,content:M});continue}}else{const M=`Invalid tool_call: ${JSON.stringify($)}. Available options are: ${Object.keys(d).map(Ze=>JSON.stringify(Ze)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:y,content:M});continue}let he;try{he=Js(I)?await I.parse(A):A}catch(M){const Ze=M instanceof Error?M.message:String(M);this._addMessage({role:s,tool_call_id:y,content:Ze});continue}const J=await I.function(he,this),H=se(this,te,"m",xr).call(this,J);if(this._addMessage({role:s,tool_call_id:y,content:H}),l)return}}}}te=new WeakSet,kr=function(){return se(this,te,"m",An).call(this).content??null},An=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(ht(t)){const{function_call:n,...s}=t,i={...s,content:t.content??null,refusal:t.refusal??null};return n&&(i.function_call=n),i}}throw new T("stream ended without producing a ChatCompletionMessage with role=assistant")},$r=function(){var e,t;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(ht(s)&&(s!=null&&s.function_call))return s.function_call;if(ht(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(t=s.tool_calls.at(-1))==null?void 0:t.function}},Pr=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Ia(t)&&t.content!=null||Ra(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===t.tool_call_id))}))return t.content}},Cr=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Ba=function(e){if(e.n!=null&&e.n>1)throw new T("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},xr=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class zt extends Ua{static runFunctions(e,t,n){const s=new zt,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,t,i)),s}static runTools(e,t,n){const s=new zt,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,t,i)),s}_addMessage(e,t=!0){super._addMessage(e,t),ht(e)&&e.content&&this._emit("content",e.content)}}const Ma=1,Fa=2,Va=4,Wa=8,qa=16,za=32,Ha=64,Ja=128,Ga=256,Ka=Ja|Ga,Qa=qa|za|Ka|Ha,Xa=Ma|Fa|Qa,Ya=Va|Wa,rd=Xa|Ya,X={STR:Ma,NUM:Fa,ARR:Va,OBJ:Wa,NULL:qa,BOOL:za,NAN:Ha,INFINITY:Ja,MINUS_INFINITY:Ga,INF:Ka,SPECIAL:Qa,ATOM:Xa,COLLECTION:Ya,ALL:rd};class sd extends Error{}class id extends Error{}function ad(r,e=X.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return od(r.trim(),e)}const od=(r,e)=>{const t=r.length;let n=0;const s=h=>{throw new sd(`${h} at position ${n}`)},i=h=>{throw new id(`${h} at position ${n}`)},a=()=>(d(),n>=t&&s("Unexpected end of input"),r[n]==='"'?o():r[n]==="{"?l():r[n]==="["?c():r.substring(n,n+4)==="null"||X.NULL&e&&t-n<4&&"null".startsWith(r.substring(n))?(n+=4,null):r.substring(n,n+4)==="true"||X.BOOL&e&&t-n<4&&"true".startsWith(r.substring(n))?(n+=4,!0):r.substring(n,n+5)==="false"||X.BOOL&e&&t-n<5&&"false".startsWith(r.substring(n))?(n+=5,!1):r.substring(n,n+8)==="Infinity"||X.INFINITY&e&&t-n<8&&"Infinity".startsWith(r.substring(n))?(n+=8,1/0):r.substring(n,n+9)==="-Infinity"||X.MINUS_INFINITY&e&&1<t-n&&t-n<9&&"-Infinity".startsWith(r.substring(n))?(n+=9,-1/0):r.substring(n,n+3)==="NaN"||X.NAN&e&&t-n<3&&"NaN".startsWith(r.substring(n))?(n+=3,NaN):u()),o=()=>{const h=n;let f=!1;for(n++;n<t&&(r[n]!=='"'||f&&r[n-1]==="\\");)f=r[n]==="\\"?!f:!1,n++;if(r.charAt(n)=='"')try{return JSON.parse(r.substring(h,++n-Number(f)))}catch(p){i(String(p))}else if(X.STR&e)try{return JSON.parse(r.substring(h,n-Number(f))+'"')}catch{return JSON.parse(r.substring(h,r.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{n++,d();const h={};try{for(;r[n]!=="}";){if(d(),n>=t&&X.OBJ&e)return h;const f=o();d(),n++;try{const p=a();Object.defineProperty(h,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(X.OBJ&e)return h;throw p}d(),r[n]===","&&n++}}catch{if(X.OBJ&e)return h;s("Expected '}' at end of object")}return n++,h},c=()=>{n++;const h=[];try{for(;r[n]!=="]";)h.push(a()),d(),r[n]===","&&n++}catch{if(X.ARR&e)return h;s("Expected ']' at end of array")}return n++,h},u=()=>{if(n===0){r==="-"&&X.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(r)}catch(f){if(X.NUM&e)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}i(String(f))}}const h=n;for(r[n]==="-"&&n++;r[n]&&!",]}".includes(r[n]);)n++;n==t&&!(X.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(r.substring(h,n))}catch{r.substring(h,n)==="-"&&X.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(r.substring(h,r.lastIndexOf("e")))}catch(p){i(String(p))}}},d=()=>{for(;n<t&&` 
\r	`.includes(r[n]);)n++};return a()},Ks=r=>ad(r,X.ALL^X.NUM);var rt=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},B=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},G,xe,st,De,tr,pn,nr,rr,sr,gn,ir,Qs;class Ht extends Ua{constructor(e){super(),G.add(this),xe.set(this,void 0),st.set(this,void 0),De.set(this,void 0),rt(this,xe,e,"f"),rt(this,st,[],"f")}get currentChatCompletionSnapshot(){return B(this,De,"f")}static fromReadableStream(e){const t=new Ht(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const s=new Ht(t);return s._run(()=>s._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,t,n){var a;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),B(this,G,"m",tr).call(this);const i=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)B(this,G,"m",nr).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new ve;return this._addChatCompletion(B(this,G,"m",gn).call(this))}async _fromReadableStream(e,t){var a;const n=t==null?void 0:t.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),B(this,G,"m",tr).call(this),this._connected();const s=Ce.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(B(this,G,"m",gn).call(this)),B(this,G,"m",nr).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new ve;return this._addChatCompletion(B(this,G,"m",gn).call(this))}[(xe=new WeakMap,st=new WeakMap,De=new WeakMap,G=new WeakSet,tr=function(){this.ended||rt(this,De,void 0,"f")},pn=function(t){let n=B(this,st,"f")[t.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},B(this,st,"f")[t.index]=n,n)},nr=function(t){var s,i,a,o,l,c,u,d,h,f,p,g,m,S,v;if(this.ended)return;const n=B(this,G,"m",Qs).call(this,t);this._emit("chunk",t,n);for(const b of t.choices){const y=n.choices[b.index];b.delta.content!=null&&((s=y.message)==null?void 0:s.role)==="assistant"&&((i=y.message)!=null&&i.content)&&(this._emit("content",b.delta.content,y.message.content),this._emit("content.delta",{delta:b.delta.content,snapshot:y.message.content,parsed:y.message.parsed})),b.delta.refusal!=null&&((a=y.message)==null?void 0:a.role)==="assistant"&&((o=y.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:b.delta.refusal,snapshot:y.message.refusal}),((l=b.logprobs)==null?void 0:l.content)!=null&&((c=y.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=b.logprobs)==null?void 0:u.content,snapshot:((d=y.logprobs)==null?void 0:d.content)??[]}),((h=b.logprobs)==null?void 0:h.refusal)!=null&&((f=y.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=b.logprobs)==null?void 0:p.refusal,snapshot:((g=y.logprobs)==null?void 0:g.refusal)??[]});const $=B(this,G,"m",pn).call(this,y);y.finish_reason&&(B(this,G,"m",sr).call(this,y),$.current_tool_call_index!=null&&B(this,G,"m",rr).call(this,y,$.current_tool_call_index));for(const A of b.delta.tool_calls??[])$.current_tool_call_index!==A.index&&(B(this,G,"m",sr).call(this,y),$.current_tool_call_index!=null&&B(this,G,"m",rr).call(this,y,$.current_tool_call_index)),$.current_tool_call_index=A.index;for(const A of b.delta.tool_calls??[]){const I=(m=y.message.tool_calls)==null?void 0:m[A.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(S=I.function)==null?void 0:S.name,index:A.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((v=A.function)==null?void 0:v.arguments)??""}):(I==null||I.type,void 0))}}},rr=function(t,n){var a,o,l;if(B(this,G,"m",pn).call(this,t).done_tool_calls.has(n))return;const i=(a=t.message.tool_calls)==null?void 0:a[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(o=B(this,xe,"f"))==null?void 0:o.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:rn(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},sr=function(t){var s,i;const n=B(this,G,"m",pn).call(this,t);if(t.message.content&&!n.content_done){n.content_done=!0;const a=B(this,G,"m",ir).call(this);this._emit("content.done",{content:t.message.content,parsed:a?a.$parseRaw(t.message.content):null})}t.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(s=t.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(i=t.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},gn=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");const t=B(this,De,"f");if(!t)throw new T("request ended without sending any chunks");return rt(this,De,void 0,"f"),rt(this,st,[],"f"),ld(t,B(this,xe,"f"))},ir=function(){var n;const t=(n=B(this,xe,"f"))==null?void 0:n.response_format;return La(t)?t:null},Qs=function(t){var n,s,i,a;let o=B(this,De,"f");const{choices:l,...c}=t;o?Object.assign(o,c):o=rt(this,De,{...c,choices:[]},"f");for(const{delta:u,finish_reason:d,index:h,logprobs:f=null,...p}of t.choices){let g=o.choices[h];if(g||(g=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:A,refusal:I,...he}=f;Object.assign(g.logprobs,he),A&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(...A)),I&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...I))}if(d&&(g.finish_reason=d,B(this,xe,"f")&&Na(B(this,xe,"f")))){if(d==="length")throw new ba;if(d==="content_filter")throw new va}if(Object.assign(g,p),!u)continue;const{content:m,refusal:S,function_call:v,role:b,tool_calls:y,...$}=u;if(Object.assign(g.message,$),S&&(g.message.refusal=(g.message.refusal||"")+S),b&&(g.message.role=b),v&&(g.message.function_call?(v.name&&(g.message.function_call.name=v.name),v.arguments&&((i=g.message.function_call).arguments??(i.arguments=""),g.message.function_call.arguments+=v.arguments)):g.message.function_call=v),m&&(g.message.content=(g.message.content||"")+m,!g.message.refusal&&B(this,G,"m",ir).call(this)&&(g.message.parsed=Ks(g.message.content))),y){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:A,id:I,type:he,function:J,...H}of y){const M=(a=g.message.tool_calls)[A]??(a[A]={});Object.assign(M,H),I&&(M.id=I),he&&(M.type=he),J&&(M.function??(M.function={name:J.name??"",arguments:""})),J!=null&&J.name&&(M.function.name=J.name),J!=null&&J.arguments&&(M.function.arguments+=J.arguments,td(B(this,xe,"f"),M)&&(M.function.parsed_arguments=Ks(M.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",s=>{const i=t.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{n=!0;for(const i of t)i.reject(s);t.length=0}),this.on("error",s=>{n=!0;for(const i of t)i.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>t.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ce(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ld(r,e){const{id:t,choices:n,created:s,model:i,system_fingerprint:a,...o}=r,l={...o,id:t,choices:n.map(({message:c,finish_reason:u,index:d,logprobs:h,...f})=>{if(!u)throw new T(`missing finish_reason for choice ${d}`);const{content:p=null,function_call:g,tool_calls:m,...S}=c,v=c.role;if(!v)throw new T(`missing role for choice ${d}`);if(g){const{arguments:b,name:y}=g;if(b==null)throw new T(`missing function_call.arguments for choice ${d}`);if(!y)throw new T(`missing function_call.name for choice ${d}`);return{...f,message:{content:p,function_call:{arguments:b,name:y},role:v,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:h}}return m?{...f,index:d,finish_reason:u,logprobs:h,message:{...S,role:v,content:p,refusal:c.refusal??null,tool_calls:m.map((b,y)=>{const{function:$,type:A,id:I,...he}=b,{arguments:J,name:H,...M}=$||{};if(I==null)throw new T(`missing choices[${d}].tool_calls[${y}].id
${mn(r)}`);if(A==null)throw new T(`missing choices[${d}].tool_calls[${y}].type
${mn(r)}`);if(H==null)throw new T(`missing choices[${d}].tool_calls[${y}].function.name
${mn(r)}`);if(J==null)throw new T(`missing choices[${d}].tool_calls[${y}].function.arguments
${mn(r)}`);return{...he,id:I,type:A,function:{...M,name:H,arguments:J}}})}}:{...f,message:{...S,content:p,role:v,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Yu(l,e)}function mn(r){return JSON.stringify(r)}class ft extends Ht{static fromReadableStream(e){const t=new ft(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,n){const s=new ft(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,t,i)),s}static runTools(e,t,n){const s=new ft(t),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,t,i)),s}}let Za=class extends D{parse(e,t){return nd(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>Hr(n,e))}runFunctions(e,t){return e.stream?ft.runFunctions(this._client,e,t):zt.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?ft.runTools(this._client,e,t):zt.runTools(this._client,e,t)}stream(e,t){return Ht.createChatCompletion(this._client,e,t)}};class Ar extends D{constructor(){super(...arguments),this.completions=new Za(this._client)}}(function(r){r.Completions=Za})(Ar||(Ar={}));class eo extends D{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class Jr extends D{constructor(){super(...arguments),this.sessions=new eo(this._client)}}Jr.Sessions=eo;var _=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},oe=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Z,Or,Pe,_n,me,Ge,ot,Je,On,ce,wn,Sn,Ft,Lt,Nt,Xs,Ys,Zs,ei,ti,ni,ri;class ye extends Da{constructor(){super(...arguments),Z.add(this),Or.set(this,[]),Pe.set(this,{}),_n.set(this,{}),me.set(this,void 0),Ge.set(this,void 0),ot.set(this,void 0),Je.set(this,void 0),On.set(this,void 0),ce.set(this,void 0),wn.set(this,void 0),Sn.set(this,void 0),Ft.set(this,void 0)}[(Or=new WeakMap,Pe=new WeakMap,_n=new WeakMap,me=new WeakMap,Ge=new WeakMap,ot=new WeakMap,Je=new WeakMap,On=new WeakMap,ce=new WeakMap,wn=new WeakMap,Sn=new WeakMap,Ft=new WeakMap,Z=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",s=>{const i=t.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{n=!0;for(const i of t)i.reject(s);t.length=0}),this.on("error",s=>{n=!0;for(const i of t)i.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>t.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new ye;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var i;const n=t==null?void 0:t.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ce.fromReadableStream(e,this.controller);for await(const a of s)_(this,Z,"m",Lt).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new ve;return this._addRun(_(this,Z,"m",Nt).call(this))}toReadableStream(){return new Ce(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,s,i){const a=new ye;return a._run(()=>a._runToolAssistantStream(e,t,n,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,t,n,s,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(t,n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of l)_(this,Z,"m",Lt).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new ve;return this._addRun(_(this,Z,"m",Nt).call(this))}static createThreadAssistantStream(e,t,n){const s=new ye;return s._run(()=>s._threadAssistantStream(e,t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,t,n,s){const i=new ye;return i._run(()=>i._runAssistantStream(e,t,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return _(this,wn,"f")}currentRun(){return _(this,Sn,"f")}currentMessageSnapshot(){return _(this,me,"f")}currentRunStepSnapshot(){return _(this,Ft,"f")}async finalRunSteps(){return await this.done(),Object.values(_(this,Pe,"f"))}async finalMessages(){return await this.done(),Object.values(_(this,_n,"f"))}async finalRun(){if(await this.done(),!_(this,Ge,"f"))throw Error("Final run was not received.");return _(this,Ge,"f")}async _createThreadAssistantStream(e,t,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...t,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const l of a)_(this,Z,"m",Lt).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new ve;return this._addRun(_(this,Z,"m",Nt).call(this))}async _createAssistantStream(e,t,n,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.create(t,a,{...s,signal:this.controller.signal});this._connected();for await(const c of o)_(this,Z,"m",Lt).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new ve;return this._addRun(_(this,Z,"m",Nt).call(this))}static accumulateDelta(e,t){for(const[n,s]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let i=e[n];if(i==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(er(i)&&er(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!er(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,s){return await this._createAssistantStream(t,e,n,s)}async _runToolAssistantStream(e,t,n,s,i){return await this._createToolAssistantStream(n,e,t,s,i)}}Lt=function(e){if(!this.ended)switch(oe(this,wn,e,"f"),_(this,Z,"m",Zs).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":_(this,Z,"m",ri).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_(this,Z,"m",Ys).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":_(this,Z,"m",Xs).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Nt=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");if(!_(this,Ge,"f"))throw Error("Final run has not been received");return _(this,Ge,"f")},Xs=function(e){const[t,n]=_(this,Z,"m",ti).call(this,e,_(this,me,"f"));oe(this,me,t,"f"),_(this,_n,"f")[t.id]=t;for(const s of n){const i=t.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=t.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=_(this,ot,"f")){if(_(this,Je,"f"))switch(_(this,Je,"f").type){case"text":this._emit("textDone",_(this,Je,"f").text,_(this,me,"f"));break;case"image_file":this._emit("imageFileDone",_(this,Je,"f").image_file,_(this,me,"f"));break}oe(this,ot,s.index,"f")}oe(this,Je,t.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(_(this,ot,"f")!==void 0){const s=e.data.content[_(this,ot,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,_(this,me,"f"));break;case"text":this._emit("textDone",s.text,_(this,me,"f"));break}}_(this,me,"f")&&this._emit("messageDone",e.data),oe(this,me,void 0,"f")}},Ys=function(e){const t=_(this,Z,"m",ei).call(this,e);switch(oe(this,Ft,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==_(this,On,"f")?this._emit("toolCallDelta",i,t.step_details.tool_calls[i.index]):(_(this,ce,"f")&&this._emit("toolCallDone",_(this,ce,"f")),oe(this,On,i.index,"f"),oe(this,ce,t.step_details.tool_calls[i.index],"f"),_(this,ce,"f")&&this._emit("toolCallCreated",_(this,ce,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":oe(this,Ft,void 0,"f"),e.data.step_details.type=="tool_calls"&&_(this,ce,"f")&&(this._emit("toolCallDone",_(this,ce,"f")),oe(this,ce,void 0,"f")),this._emit("runStepDone",e.data,t);break}},Zs=function(e){_(this,Or,"f").push(e),this._emit("event",e)},ei=function(e){switch(e.event){case"thread.run.step.created":return _(this,Pe,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=_(this,Pe,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=ye.accumulateDelta(t,n.delta);_(this,Pe,"f")[e.data.id]=s}return _(this,Pe,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":_(this,Pe,"f")[e.data.id]=e.data;break}if(_(this,Pe,"f")[e.data.id])return _(this,Pe,"f")[e.data.id];throw new Error("No snapshot available")},ti=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in t.content){let a=t.content[i.index];t.content[i.index]=_(this,Z,"m",ni).call(this,i,a)}else t.content[i.index]=i,n.push(i);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ni=function(e,t){return ye.accumulateDelta(t,e)},ri=function(e){switch(oe(this,Sn,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":oe(this,Ge,e.data,"f"),_(this,ce,"f")&&(this._emit("toolCallDone",_(this,ce,"f")),oe(this,ce,void 0,"f"));break}};class Gr extends D{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,t,n,s){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,t={},n){return ae(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Kr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Kr extends _e{}Gr.MessagesPage=Kr;class Qr extends D{retrieve(e,t,n,s={},i){return ae(s)?this.retrieve(e,t,n,{},s):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,t,n={},s){return ae(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,Xr,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Xr extends _e{}Qr.RunStepsPage=Xr;class sn extends D{constructor(){super(...arguments),this.steps=new Qr(this._client)}create(e,t,n){const{include:s,...i}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,t,n,s){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,t={},n){return ae(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,Yr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,t,n){const s=await this.create(e,t,n);return await this.poll(e,s.id,n)}createAndStream(e,t,n){return ye.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,t,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await tn(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,t,n){return ye.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,s){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,s){const i=await this.submitToolOutputs(e,t,n,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,t,n,s){return ye.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,s)}}class Yr extends _e{}sn.RunsPage=Yr;sn.Steps=Qr;sn.RunStepsPage=Xr;class $t extends D{constructor(){super(...arguments),this.runs=new sn(this._client),this.messages=new Gr(this._client)}create(e={},t){return ae(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return ye.createThreadAssistantStream(e,this._client.beta.threads,t)}}$t.Runs=sn;$t.RunsPage=Yr;$t.Messages=Gr;$t.MessagesPage=Kr;const cd=async r=>{const e=await Promise.allSettled(r),t=e.filter(s=>s.status==="rejected");if(t.length){for(const s of t)console.error(s.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};let Zr=class extends D{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,t={},n){return ae(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Vn,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,t,n){const s=await this.create(e,t,n);return await this.poll(e,s.id,n)}async poll(e,t,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(e,t,{...n,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await tn(o);break;case"failed":case"completed":return a}}}async upload(e,t,n){const s=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,t,n){const s=await this.upload(e,t,n);return await this.poll(e,s.id,n)}};class Vn extends _e{}Zr.VectorStoreFilesPage=Vn;class to extends D{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,t,n){const s=await this.create(e,t);return await this.poll(e,s.id,n)}listFiles(e,t,n={},s){return ae(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Vn,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,t,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,t,{...n,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await tn(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},s){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,t.length),o=this._client,l=t.values(),c=[...n];async function u(h){for(let f of h){const p=await o.files.create({file:f,purpose:"assistants"},s);c.push(p.id)}}const d=Array(a).fill(l).map(u);return await cd(d),await this.createAndPoll(e,{file_ids:c})}}class Pt extends D{constructor(){super(...arguments),this.files=new Zr(this._client),this.fileBatches=new to(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},t){return ae(e)?this.list({},e):this._client.getAPIList("/vector_stores",es,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class es extends _e{}Pt.VectorStoresPage=es;Pt.Files=Zr;Pt.VectorStoreFilesPage=Vn;Pt.FileBatches=to;class Fe extends D{constructor(){super(...arguments),this.realtime=new Jr(this._client),this.vectorStores=new Pt(this._client),this.chat=new Ar(this._client),this.assistants=new qr(this._client),this.threads=new $t(this._client)}}Fe.Realtime=Jr;Fe.VectorStores=Pt;Fe.VectorStoresPage=es;Fe.Assistants=qr;Fe.AssistantsPage=zr;Fe.Threads=$t;class no extends D{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class ro extends D{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class ts extends D{create(e,t){return this._client.post("/files",_t({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return ae(e)?this.list({},e):this._client.getAPIList("/files",ns,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t==null?void 0:t.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await tn(t),a=await this.retrieve(e),Date.now()-i>n)throw new Mr({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}}class ns extends _e{}ts.FileObjectsPage=ns;class rs extends D{list(e,t={},n){return ae(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,ss,{query:t,...n})}}class ss extends _e{}rs.FineTuningJobCheckpointsPage=ss;class Ct extends D{constructor(){super(...arguments),this.checkpoints=new rs(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return ae(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",is,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return ae(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,as,{query:t,...n})}}class is extends _e{}class as extends _e{}Ct.FineTuningJobsPage=is;Ct.FineTuningJobEventsPage=as;Ct.Checkpoints=rs;Ct.FineTuningJobCheckpointsPage=ss;class an extends D{constructor(){super(...arguments),this.jobs=new Ct(this._client)}}an.Jobs=Ct;an.FineTuningJobsPage=is;an.FineTuningJobEventsPage=as;class so extends D{createVariation(e,t){return this._client.post("/images/variations",_t({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",_t({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class os extends D{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ls,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class ls extends Xu{}os.ModelsPage=ls;class io extends D{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class ao extends D{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,_t({body:t,...n}))}}class cs extends D{constructor(){super(...arguments),this.parts=new ao(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}cs.Parts=ao;var oo;class R extends Bu{constructor({baseURL:e=fn("OPENAI_BASE_URL"),apiKey:t=fn("OPENAI_API_KEY"),organization:n=fn("OPENAI_ORG_ID")??null,project:s=fn("OPENAI_PROJECT_ID")??null,...i}={}){if(t===void 0)throw new T("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:n,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Ku())throw new T(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new no(this),this.chat=new Fr(this),this.embeddings=new ro(this),this.files=new ts(this),this.images=new so(this),this.audio=new nn(this),this.moderations=new io(this),this.models=new os(this),this.fineTuning=new an(this),this.beta=new Fe(this),this.batches=new Vr(this),this.uploads=new cs(this),this._options=a,this.apiKey=t,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return wu(e,{arrayFormat:"brackets"})}}oo=R;R.OpenAI=oo;R.DEFAULT_TIMEOUT=6e5;R.OpenAIError=T;R.APIError=ee;R.APIConnectionError=Un;R.APIConnectionTimeoutError=Mr;R.APIUserAbortError=ve;R.NotFoundError=ha;R.ConflictError=fa;R.RateLimitError=ga;R.BadRequestError=ca;R.AuthenticationError=ua;R.InternalServerError=ma;R.PermissionDeniedError=da;R.UnprocessableEntityError=pa;R.toFile=Sa;R.fileFromPath=oa;R.Completions=no;R.Chat=Fr;R.Embeddings=ro;R.Files=ts;R.FileObjectsPage=ns;R.Images=so;R.Audio=nn;R.Moderations=io;R.Models=os;R.ModelsPage=ls;R.FineTuning=an;R.Beta=Fe;R.Batches=Vr;R.BatchesPage=Wr;R.Uploads=cs;const us=mo("businessStore",()=>{const{generatePrompt:r}=il(),e=je(),t=je(!1);return{fetchOpenAi:async i=>{const{data:a}=await du.from("client").select().single(),o="You are a helpful assistant designed to output JSON.",l=r(i),c=new R({organization:"org-gMMLBDt8GYoH6XvDrRNR9dDS",project:"proj_13bhHRRlUbgQnmsrdOEaVlAH",apiKey:a.key,dangerouslyAllowBrowser:!0});e.value=void 0,t.value=!0;const u=await c.chat.completions.create({response_format:{type:"json_object"},model:"gpt-4-turbo",store:!0,messages:[{content:o,role:"system"},{content:l,role:"user"}]});t.value=!1;const d=u.choices[0].message.content;d&&(e.value=JSON.parse(d),console.log(JSON.parse(d)))},clearState:()=>{e.value=void 0},openAiData:e,isLoaded:t}},{persist:{storage:sessionStorage,pick:["openAiData"]}});function Wn(){const r=us(),e=xo().shape({productOrService:Ve().required("Product or service is required"),targetAudience:Ve().required("Target audience is required"),regionOrCity:Ve().required("Region or city is required"),startUpCapital:Ve().required("Start-up capital is required"),salesChannels:Ve().required("Sales channels are required"),keyCosts:Ve().required("Key costs are required"),mainGoals:Ve().required("Main goals are required")}),t={productOrService:{label:"What product or service do you plan to offer?",name:"productOrService",type:"text"},targetAudience:{label:"Who is your target audience?",name:"targetAudience",type:"text"},regionOrCity:{label:"What region or city do you plan to work in?",name:"regionOrCity",type:"text"},startUpCapital:{label:"What kind of start-up capital do you plan to invest?",name:"startUpCapital",type:"number"},salesChannels:{label:"What sales channels do you plan to utilize?",name:"salesChannels",type:"text"},keyCosts:{label:"What are the key costs you are planning for?",name:"keyCosts",type:"text"},mainGoals:{label:"What are your main goals for your first year?",name:"mainGoals",type:"textarea"}},n=je([{id:1,value:"1",label:"Start"},{id:2,value:"2",label:"Quiz"},{id:3,value:"3",label:"Result"}]),s=je({productOrService:"",targetAudience:"",regionOrCity:"",startUpCapital:"",salesChannels:"",keyCosts:"",mainGoals:""}),i=l=>{sessionStorage.setItem("steps",l)};return{setStorageStepValue:i,getStorageStepValue:()=>sessionStorage.getItem("steps")||"1",setStepValueHandler:async({activateCallback:l,value:c})=>{await i(c),await r.clearState(),l(c)},stepList:n,formData:s,schema:e,fields:t}}const ud={class:"stepper"},dd={class:"stepper__content"},hd=Yt({__name:"ElInitial",setup(r){const{setStepValueHandler:e}=Wn(),t=je("GET STARTED QUIZ");return(n,s)=>(k(),Q(L(En),{value:"1"},{default:U(({activateCallback:i})=>[P("div",ud,[P("div",dd,[N(_i,Ae(Oe(L($o))),{button:U(()=>[N(Vt,{"button-action":()=>L(e)({activateCallback:i,value:"2"}),variant:"default"},{default:U(()=>[Re(ne(t.value),1)]),_:2},1032,["button-action"])]),_:2},1040)])])]),_:1}))}}),fd=wt(hd,[["__scopeId","data-v-93c0bb6b"]]),pd={class:"stepper"},gd={class:"stepper__content"},md={class:"stepper__content-col-2"},bd={class:"stepper__content-col-1"},vd={class:"stepper__actions stepper__actions-between"},yd=Yt({__name:"ElQuizai",setup(r){const{formData:e,fields:t,schema:n,setStepValueHandler:s}=Wn(),i=us(),{validate:a}=Ao(),o=je("Next"),l=je("Back"),c=async({activateCallback:u,value:d})=>{await a()&&(i.fetchOpenAi(d),s({activateCallback:u,value:"3"}))};return(u,d)=>(k(),Q(L(En),{value:"2"},{default:U(({activateCallback:h})=>[N(L(Oo),{ref:"form","validation-schema":L(n),"initial-values":L(e),onSubmit:f=>c({activateCallback:h,value:f})},{default:U(()=>[P("div",pd,[P("div",gd,[N(_i,Ae(Oe(L(Po))),null,16),P("section",md,[N(We,Ae(Oe(L(t).productOrService)),null,16),N(We,Ae(Oe(L(t).targetAudience)),null,16),N(We,Ae(Oe(L(t).regionOrCity)),null,16),N(We,Ae(Oe(L(t).startUpCapital)),null,16),N(We,Ae(Oe(L(t).salesChannels)),null,16),N(We,Ae(Oe(L(t).keyCosts)),null,16)]),P("section",bd,[N(We,Ae(Oe(L(t).mainGoals)),null,16)])])]),P("div",vd,[N(Vt,{"button-action":()=>L(s)({activateCallback:h,value:"1"}),variant:"default"},{default:U(()=>[Re(ne(l.value),1)]),_:2},1032,["button-action"]),N(Vt,{variant:"primary",type:"submit"},{default:U(()=>[Re(ne(o.value),1)]),_:1})])]),_:2},1032,["validation-schema","initial-values","onSubmit"])]),_:1}))}}),_d=wt(yd,[["__scopeId","data-v-444a56b5"]]),wd={},Sd={class:"flex flex-col items-center justify-center w-full h-full gap-4"};function kd(r,e){return k(),W("div",Sd,e[0]||(e[0]=[P("i",{class:"text-gray-400 w-fit h-fit pi pi-spin pi-slack",style:{"font-size":"5rem"}},null,-1),P("span",{class:"text-lg text-gray-600"},"Loading...",-1)]))}const $d=wt(wd,[["render",kd]]);var Pd=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Cd=V.extend({name:"baseicon",css:Pd});function Jt(r){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(r)}function si(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function ii(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?si(Object(t),!0).forEach(function(n){xd(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):si(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xd(r,e,t){return(e=Ad(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ad(r){var e=Od(r,"string");return Jt(e)=="symbol"?e:e+""}function Od(r,e){if(Jt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ds={name:"BaseIcon",extends:de,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:Cd,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=Tn(this.label);return ii(ii({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},hs={name:"MinusIcon",extends:ds};function Td(r,e,t,n,s,i){return k(),W("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[P("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}hs.render=Td;var fs={name:"PlusIcon",extends:ds};function Ed(r,e,t,n,s,i){return k(),W("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[P("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1)]),16)}fs.render=Ed;function Gt(r){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(r)}function ai(r,e){return Dd(r)||jd(r,e)||Rd(r,e)||Id()}function Id(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rd(r,e){if(r){if(typeof r=="string")return oi(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oi(r,e):void 0}}function oi(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function jd(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,i,a,o=[],l=!0,c=!1;try{if(i=(t=t.call(r)).next,e!==0)for(;!(l=(n=i.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function Dd(r){if(Array.isArray(r))return r}function li(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function j(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?li(Object(t),!0).forEach(function(n){Tr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):li(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tr(r,e,t){return(e=Ld(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ld(r){var e=Nd(r,"string");return Gt(e)=="symbol"?e:e+""}function Nd(r,e){if(Gt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Gt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var x={_getMeta:function(){return[bs(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],or(bs(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var n,s,i;return(n=(e==null||(s=e.instance)===null||s===void 0?void 0:s.$primevue)||(t==null||(i=t.ctx)===null||i===void 0||(i=i.appContext)===null||i===void 0||(i=i.config)===null||i===void 0||(i=i.globalProperties)===null||i===void 0?void 0:i.$primevue))===null||n===void 0?void 0:n.config},_getOptionValue:gi,_getPTValue:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var v=x._getOptionValue.apply(x,arguments);return lt(v)||mi(v)?{class:v}:v},c=((e=n.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((t=n.$primevueConfig)===null||t===void 0?void 0:t.ptOptions)||{},u=c.mergeSections,d=u===void 0?!0:u,h=c.mergeProps,f=h===void 0?!1:h,p=o?x._useDefaultPT(n,n.defaultPT(),l,i,a):void 0,g=x._usePT(n,x._getPT(s,n.$name),l,i,j(j({},a),{},{global:p||{}})),m=x._getPTDatasets(n,i);return d||!d&&g?f?x._mergeProps(n,f,p,g,m):j(j(j({},p),g),m):j(j({},g),m)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n="data-pc-";return j(j({},t==="root"&&Tr({},"".concat(n,"name"),Ie(e.$name))),{},Tr({},"".concat(n,"section"),Ie(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,s=function(a){var o,l=n?n(a):a,c=Ie(t);return(o=l==null?void 0:l[c])!==null&&o!==void 0?o:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=function(m){return n(m,s,i)};if(t!=null&&t.hasOwnProperty("_usept")){var o,l=t._usept||((o=e.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},c=l.mergeSections,u=c===void 0?!0:c,d=l.mergeProps,h=d===void 0?!1:d,f=a(t.originalValue),p=a(t.value);return f===void 0&&p===void 0?void 0:lt(p)?p:lt(f)?f:u||!u&&p?h?x._mergeProps(e,h,f,p):j(j({},f),p):p}return a(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return x._usePT(e,t,n,s,i)},_loadStyles:function(e,t,n){var s,i=x._getConfig(t,n),a={nonce:i==null||(s=i.csp)===null||s===void 0?void 0:s.nonce};x._loadCoreStyles(e.$instance,a),x._loadThemeStyles(e.$instance,a),x._loadScopedThemeStyles(e.$instance,a),x._themeChangeListener(function(){return x._loadThemeStyles(e.$instance,a)})},_loadCoreStyles:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(!Ue.isStyleNameLoaded((e=n.$style)===null||e===void 0?void 0:e.name)&&(t=n.$style)!==null&&t!==void 0&&t.name){var i;V.loadCSS(s),(i=n.$style)===null||i===void 0||i.loadCSS(s),Ue.setLoadedStyleName(n.$style.name)}},_loadThemeStyles:function(){var e,t,n,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(!(s!=null&&s.isUnstyled()||(s==null||(e=s.theme)===null||e===void 0?void 0:e.call(s))==="none")){if(!fe.isStyleNameLoaded("common")){var a,o,l=((a=s.$style)===null||a===void 0||(o=a.getCommonTheme)===null||o===void 0?void 0:o.call(a))||{},c=l.primitive,u=l.semantic,d=l.global,h=l.style;V.load(c==null?void 0:c.css,j({name:"primitive-variables"},i)),V.load(u==null?void 0:u.css,j({name:"semantic-variables"},i)),V.load(d==null?void 0:d.css,j({name:"global-variables"},i)),V.loadTheme(j({name:"global-style"},i),h),fe.setLoadedStyleName("common")}if(!fe.isStyleNameLoaded((t=s.$style)===null||t===void 0?void 0:t.name)&&(n=s.$style)!==null&&n!==void 0&&n.name){var f,p,g,m,S=((f=s.$style)===null||f===void 0||(p=f.getDirectiveTheme)===null||p===void 0?void 0:p.call(f))||{},v=S.css,b=S.style;(g=s.$style)===null||g===void 0||g.load(v,j({name:"".concat(s.$style.name,"-variables")},i)),(m=s.$style)===null||m===void 0||m.loadTheme(j({name:"".concat(s.$style.name,"-style")},i),b),fe.setLoadedStyleName(s.$style.name)}if(!fe.isStyleNameLoaded("layer-order")){var y,$,A=(y=s.$style)===null||y===void 0||($=y.getLayerOrderThemeCSS)===null||$===void 0?void 0:$.call(y);V.load(A,j({name:"layer-order",first:!0},i)),fe.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.preset();if(n&&e.$attrSelector){var s,i,a,o=((s=e.$style)===null||s===void 0||(i=s.getPresetTheme)===null||i===void 0?void 0:i.call(s,n,"[".concat(e.$attrSelector,"]")))||{},l=o.css,c=(a=e.$style)===null||a===void 0?void 0:a.load(l,j({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},t));e.scopedStyleEl=c.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Ue.clearLoadedStyleNames(),pi.on("theme:change",e)},_hook:function(e,t,n,s,i,a){var o,l,c="on".concat(bo(t)),u=x._getConfig(s,i),d=n==null?void 0:n.$instance,h=x._usePT(d,x._getPT(s==null||(o=s.value)===null||o===void 0?void 0:o.pt,e),x._getOptionValue,"hooks.".concat(c)),f=x._useDefaultPT(d,u==null||(l=u.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],x._getOptionValue,"hooks.".concat(c)),p={el:n,binding:s,vnode:i,prevVnode:a};h==null||h(d,p),f==null||f(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=arguments.length,n=new Array(t>2?t-2:0),s=2;s<t;s++)n[s-2]=arguments[s];return fi(e)?e.apply(void 0,n):w.apply(void 0,n)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=function(a,o,l,c,u){var d,h,f,p;o._$instances=o._$instances||{};var g=x._getConfig(l,c),m=o._$instances[e]||{},S=Tn(m)?j(j({},t),t==null?void 0:t.methods):{};o._$instances[e]=j(j({},m),{},{$name:e,$host:o,$binding:l,$modifiers:l==null?void 0:l.modifiers,$value:l==null?void 0:l.value,$el:m.$el||o||void 0,$style:j({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},t==null?void 0:t.style),$primevueConfig:g,$attrSelector:(d=o.$pd)===null||d===void 0||(d=d[e])===null||d===void 0?void 0:d.attrSelector,defaultPT:function(){return x._getPT(g==null?void 0:g.pt,void 0,function(b){var y;return b==null||(y=b.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var b,y;return((b=o.$instance)===null||b===void 0||(b=b.$binding)===null||b===void 0||(b=b.value)===null||b===void 0?void 0:b.unstyled)!==void 0?(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:g==null?void 0:g.unstyled},theme:function(){var b;return(b=o.$instance)===null||b===void 0||(b=b.$primevueConfig)===null||b===void 0?void 0:b.theme},preset:function(){var b;return(b=o.$instance)===null||b===void 0||(b=b.$binding)===null||b===void 0||(b=b.value)===null||b===void 0?void 0:b.dt},ptm:function(){var b,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x._getPTValue(o.$instance,(b=o.$instance)===null||b===void 0||(b=b.$binding)===null||b===void 0||(b=b.value)===null||b===void 0?void 0:b.pt,y,j({},$))},ptmo:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return x._getPTValue(o.$instance,b,y,$,!1)},cx:function(){var b,y,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(b=o.$instance)!==null&&b!==void 0&&b.isUnstyled()?void 0:x._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,$,j({},A))},sx:function(){var b,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $?x._getOptionValue((b=o.$instance)===null||b===void 0||(b=b.$style)===null||b===void 0?void 0:b.inlineStyles,y,j({},A)):void 0}},S),o.$instance=o._$instances[e],(h=(f=o.$instance)[a])===null||h===void 0||h.call(f,o,l,c,u),o["$".concat(e)]=o.$instance,x._hook(e,a,o,l,c,u),o.$pd||(o.$pd={}),o.$pd[e]=j(j({},(p=o.$pd)===null||p===void 0?void 0:p[e]),{},{name:e,instance:o.$instance})},s=function(a){var o,l,c,u,d,h=(o=a.$instance)===null||o===void 0?void 0:o.watch;h==null||(l=h.config)===null||l===void 0||l.call(a.$instance,(c=a.$instance)===null||c===void 0?void 0:c.$primevueConfig),vs.on("config:change",function(f){var p,g=f.newValue,m=f.oldValue;return h==null||(p=h.config)===null||p===void 0?void 0:p.call(a.$instance,g,m)}),h==null||(u=h["config.ripple"])===null||u===void 0||u.call(a.$instance,(d=a.$instance)===null||d===void 0||(d=d.$primevueConfig)===null||d===void 0?void 0:d.ripple),vs.on("config:ripple:change",function(f){var p,g=f.newValue,m=f.oldValue;return h==null||(p=h["config.ripple"])===null||p===void 0?void 0:p.call(a.$instance,g,m)})};return{created:function(a,o,l,c){a.$pd||(a.$pd={}),a.$pd[e]={name:e,attrSelector:jr("pd")},n("created",a,o,l,c)},beforeMount:function(a,o,l,c){x._loadStyles(a,o,l),n("beforeMount",a,o,l,c),s(a)},mounted:function(a,o,l,c){x._loadStyles(a,o,l),n("mounted",a,o,l,c)},beforeUpdate:function(a,o,l,c){n("beforeUpdate",a,o,l,c)},updated:function(a,o,l,c){x._loadStyles(a,o,l),n("updated",a,o,l,c)},beforeUnmount:function(a,o,l,c){n("beforeUnmount",a,o,l,c)},unmounted:function(a,o,l,c){var u;(u=a.$instance)===null||u===void 0||(u=u.scopedStyleEl)===null||u===void 0||(u=u.value)===null||u===void 0||u.remove(),n("unmounted",a,o,l,c)}}},extend:function(){var e=x._getMeta.apply(x,arguments),t=ai(e,2),n=t[0],s=t[1];return j({extend:function(){var a=x._getMeta.apply(x,arguments),o=ai(a,2),l=o[0],c=o[1];return x.extend(l,j(j(j({},s),s==null?void 0:s.methods),c))}},x._extend(n,s))}},Bd=function(e){var t=e.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(t("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},Ud={root:"p-ink"},Md=V.extend({name:"ripple-directive",theme:Bd,classes:Ud}),Fd=x.extend({style:Md});function Kt(r){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(r)}function Vd(r){return Hd(r)||zd(r)||qd(r)||Wd()}function Wd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qd(r,e){if(r){if(typeof r=="string")return Er(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Er(r,e):void 0}}function zd(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Hd(r){if(Array.isArray(r))return Er(r)}function Er(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function ci(r,e,t){return(e=Jd(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Jd(r){var e=Gd(r,"string");return Kt(e)=="symbol"?e:e+""}function Gd(r,e){if(Kt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Kt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ps=Fd.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var t=vo("span",ci(ci({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));e.appendChild(t),this.$el=t},remove:function(e){var t=this.getInk(e);t&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),t.removeEventListener("animationend",this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,n=e.currentTarget,s=this.getInk(n);if(!(!s||getComputedStyle(s,null).display==="none")){if(!this.isUnstyled()&&zn(s,"p-ink-active"),s.setAttribute("data-p-ink-active","false"),!ys(s)&&!_s(s)){var i=Math.max(yo(n),_o(n));s.style.height=i+"px",s.style.width=i+"px"}var a=wo(n),o=e.pageX-a.left+document.body.scrollTop-_s(s)/2,l=e.pageY-a.top+document.body.scrollLeft-ys(s)/2;s.style.top=l+"px",s.style.left=o+"px",!this.isUnstyled()&&So(s,"p-ink-active"),s.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){s&&(!t.isUnstyled()&&zn(s,"p-ink-active"),s.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&zn(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?Vd(e.children).find(function(t){return ko(t,"data-pc-name")==="ripple"}):void 0}}}),Kd=function(e){var t=e.dt;return`
.p-fieldset {
    background: `.concat(t("fieldset.background"),`;
    border: 1px solid `).concat(t("fieldset.border.color"),`;
    border-radius: `).concat(t("fieldset.border.radius"),`;
    color: `).concat(t("fieldset.color"),`;
    padding: `).concat(t("fieldset.padding"),`;
    margin: 0;
}

.p-fieldset-legend {
    background: `).concat(t("fieldset.legend.background"),`;
    border-radius: `).concat(t("fieldset.legend.border.radius"),`;
    border-width: `).concat(t("fieldset.legend.border.width"),`;
    border-style: solid;
    border-color: `).concat(t("fieldset.legend.border.color"),`;
    padding: `).concat(t("fieldset.legend.padding"),`;
    transition: background `).concat(t("fieldset.transition.duration"),", color ").concat(t("fieldset.transition.duration"),", outline-color ").concat(t("fieldset.transition.duration"),", box-shadow ").concat(t("fieldset.transition.duration"),`;
}

.p-fieldset-toggleable > .p-fieldset-legend {
    padding: 0;
}

.p-fieldset-toggle-button {
    cursor: pointer;
    user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
    display: flex;
    gap: `).concat(t("fieldset.legend.gap"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(t("fieldset.legend.padding"),`;
    background: transparent;
    border: 0 none;
    border-radius: `).concat(t("fieldset.legend.border.radius"),`;
    transition: background `).concat(t("fieldset.transition.duration"),", color ").concat(t("fieldset.transition.duration"),", outline-color ").concat(t("fieldset.transition.duration"),", box-shadow ").concat(t("fieldset.transition.duration"),`;
    outline-color: transparent;
}

.p-fieldset-legend-label {
    font-weight: `).concat(t("fieldset.legend.font.weight"),`;
}

.p-fieldset-toggle-button:focus-visible {
    box-shadow: `).concat(t("fieldset.legend.focus.ring.shadow"),`;
    outline: `).concat(t("fieldset.legend.focus.ring.width")," ").concat(t("fieldset.legend.focus.ring.style")," ").concat(t("fieldset.legend.focus.ring.color"),`;
    outline-offset: `).concat(t("fieldset.legend.focus.ring.offset"),`;
}

.p-fieldset-toggleable > .p-fieldset-legend:hover {
    color: `).concat(t("fieldset.legend.hover.color"),`;
    background: `).concat(t("fieldset.legend.hover.background"),`;
}

.p-fieldset-toggle-icon {
    color: `).concat(t("fieldset.toggle.icon.color"),`;
    transition: color `).concat(t("fieldset.transition.duration"),`;
}

.p-fieldset-toggleable > .p-fieldset-legend:hover .p-fieldset-toggle-icon {
    color: `).concat(t("fieldset.toggle.icon.hover.color"),`;
}

.p-fieldset .p-fieldset-content {
    padding: `).concat(t("fieldset.content.padding"),`;
}
`)},Qd={root:function(e){var t=e.props;return["p-fieldset p-component",{"p-fieldset-toggleable":t.toggleable}]},legend:"p-fieldset-legend",legendLabel:"p-fieldset-legend-label",toggleButton:"p-fieldset-toggle-button",toggleIcon:"p-fieldset-toggle-icon",contentContainer:"p-fieldset-content-container",content:"p-fieldset-content"},Xd=V.extend({name:"fieldset",theme:Kd,classes:Qd}),Yd={name:"BaseFieldset",extends:de,props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:Xd,provide:function(){return{$pcFieldset:this,$parentInstance:this}}},lo={name:"Fieldset",extends:Yd,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||vt()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||vt()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.legend}},directives:{ripple:ps},components:{PlusIcon:fs,MinusIcon:hs}};function Qt(r){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(r)}function ui(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function di(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ui(Object(t),!0).forEach(function(n){Zd(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ui(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zd(r,e,t){return(e=eh(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function eh(r){var e=th(r,"string");return Qt(e)=="symbol"?e:e+""}function th(r,e){if(Qt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Qt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var nh=["id"],rh=["id","aria-controls","aria-expanded","aria-label"],sh=["id","aria-labelledby"];function ih(r,e,t,n,s,i){var a=vi("ripple");return k(),W("fieldset",w({class:r.cx("root")},r.ptmi("root")),[P("legend",w({class:r.cx("legend")},r.ptm("legend")),[q(r.$slots,"legend",{toggleCallback:i.toggle},function(){return[r.toggleable?ue("",!0):(k(),W("span",w({key:0,id:s.id+"_header",class:r.cx("legendLabel")},r.ptm("legendLabel")),ne(r.legend),17,nh)),r.toggleable?mt((k(),W("button",w({key:1,id:s.id+"_header",type:"button","aria-controls":s.id+"_content","aria-expanded":!s.d_collapsed,"aria-label":i.buttonAriaLabel,class:r.cx("toggleButton"),onClick:e[0]||(e[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)}),onKeydown:e[1]||(e[1]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},di(di({},r.toggleButtonProps),r.ptm("toggleButton"))),[q(r.$slots,r.$slots.toggleicon?"toggleicon":"togglericon",{collapsed:s.d_collapsed,class:gt(r.cx("toggleIcon"))},function(){return[(k(),Q(pt(s.d_collapsed?"PlusIcon":"MinusIcon"),w({class:r.cx("toggleIcon")},r.ptm("toggleIcon")),null,16,["class"]))]}),P("span",w({class:r.cx("legendLabel")},r.ptm("legendLabel")),ne(r.legend),17)],16,rh)),[[a]]):ue("",!0)]})],16),N(Rr,w({name:"p-toggleable-content"},r.ptm("transition")),{default:U(function(){return[mt(P("div",w({id:s.id+"_content",class:r.cx("contentContainer"),role:"region","aria-labelledby":s.id+"_header"},r.ptm("contentContainer")),[P("div",w({class:r.cx("content")},r.ptm("content")),[q(r.$slots,"default")],16)],16,sh),[[kn,!s.d_collapsed]])]}),_:3},16)],16)}lo.render=ih;var co={name:"SpinnerIcon",extends:ds};function ah(r,e,t,n,s,i){return k(),W("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[P("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}co.render=ah;var oh=function(e){var t=e.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(t("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(t("badge.padding"),`;
    background: `).concat(t("badge.primary.background"),`;
    color: `).concat(t("badge.primary.color"),`;
    font-size: `).concat(t("badge.font.size"),`;
    font-weight: `).concat(t("badge.font.weight"),`;
    min-width: `).concat(t("badge.min.width"),`;
    height: `).concat(t("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(t("badge.dot.size"),`;
    min-width: `).concat(t("badge.dot.size"),`;
    height: `).concat(t("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(t("badge.secondary.background"),`;
    color: `).concat(t("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(t("badge.success.background"),`;
    color: `).concat(t("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(t("badge.info.background"),`;
    color: `).concat(t("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(t("badge.warn.background"),`;
    color: `).concat(t("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(t("badge.danger.background"),`;
    color: `).concat(t("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(t("badge.contrast.background"),`;
    color: `).concat(t("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(t("badge.sm.font.size"),`;
    min-width: `).concat(t("badge.sm.min.width"),`;
    height: `).concat(t("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(t("badge.lg.font.size"),`;
    min-width: `).concat(t("badge.lg.min.width"),`;
    height: `).concat(t("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(t("badge.xl.font.size"),`;
    min-width: `).concat(t("badge.xl.min.width"),`;
    height: `).concat(t("badge.xl.height"),`;
}
`)},lh={root:function(e){var t=e.props,n=e.instance;return["p-badge p-component",{"p-badge-circle":ar(t.value)&&String(t.value).length===1,"p-badge-dot":Tn(t.value)&&!n.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},ch=V.extend({name:"badge",theme:oh,classes:lh}),uh={name:"BaseBadge",extends:de,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:ch,provide:function(){return{$pcBadge:this,$parentInstance:this}}},uo={name:"Badge",extends:uh,inheritAttrs:!1};function dh(r,e,t,n,s,i){return k(),W("span",w({class:r.cx("root")},r.ptmi("root")),[q(r.$slots,"default",{},function(){return[Re(ne(r.value),1)]})],16)}uo.render=dh;function Xt(r){"@babel/helpers - typeof";return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(r)}function Se(r,e,t){return(e=hh(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hh(r){var e=fh(r,"string");return Xt(e)=="symbol"?e:e+""}function fh(r,e){if(Xt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Xt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ph=function(e){var t=e.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(t("button.primary.color"),`;
    background: `).concat(t("button.primary.background"),`;
    border: 1px solid `).concat(t("button.primary.border.color"),`;
    padding: `).concat(t("button.padding.y")," ").concat(t("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(t("button.transition.duration"),", color ").concat(t("button.transition.duration"),", border-color ").concat(t("button.transition.duration"),`,
            outline-color `).concat(t("button.transition.duration"),", box-shadow ").concat(t("button.transition.duration"),`;
    border-radius: `).concat(t("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(t("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(t("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(t("button.sm.font.size"),`;
    padding: `).concat(t("button.sm.padding.y")," ").concat(t("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(t("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(t("button.lg.font.size"),`;
    padding: `).concat(t("button.lg.padding.y")," ").concat(t("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(t("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(t("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(t("button.primary.hover.background"),`;
    border: 1px solid `).concat(t("button.primary.hover.border.color"),`;
    color: `).concat(t("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(t("button.primary.active.background"),`;
    border: 1px solid `).concat(t("button.primary.active.border.color"),`;
    color: `).concat(t("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(t("button.primary.focus.ring.shadow"),`;
    outline: `).concat(t("button.focus.ring.width")," ").concat(t("button.focus.ring.style")," ").concat(t("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(t("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(t("button.badge.size"),`;
    height: `).concat(t("button.badge.size"),`;
    line-height: `).concat(t("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(t("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(t("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(t("button.secondary.background"),`;
    border: 1px solid `).concat(t("button.secondary.border.color"),`;
    color: `).concat(t("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.secondary.hover.background"),`;
    border: 1px solid `).concat(t("button.secondary.hover.border.color"),`;
    color: `).concat(t("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.secondary.active.background"),`;
    border: 1px solid `).concat(t("button.secondary.active.border.color"),`;
    color: `).concat(t("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(t("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(t("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(t("button.success.background"),`;
    border: 1px solid `).concat(t("button.success.border.color"),`;
    color: `).concat(t("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.success.hover.background"),`;
    border: 1px solid `).concat(t("button.success.hover.border.color"),`;
    color: `).concat(t("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(t("button.success.active.background"),`;
    border: 1px solid `).concat(t("button.success.active.border.color"),`;
    color: `).concat(t("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(t("button.success.focus.ring.color"),`;
    box-shadow: `).concat(t("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(t("button.info.background"),`;
    border: 1px solid `).concat(t("button.info.border.color"),`;
    color: `).concat(t("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.info.hover.background"),`;
    border: 1px solid `).concat(t("button.info.hover.border.color"),`;
    color: `).concat(t("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(t("button.info.active.background"),`;
    border: 1px solid `).concat(t("button.info.active.border.color"),`;
    color: `).concat(t("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(t("button.info.focus.ring.color"),`;
    box-shadow: `).concat(t("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(t("button.warn.background"),`;
    border: 1px solid `).concat(t("button.warn.border.color"),`;
    color: `).concat(t("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.warn.hover.background"),`;
    border: 1px solid `).concat(t("button.warn.hover.border.color"),`;
    color: `).concat(t("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.warn.active.background"),`;
    border: 1px solid `).concat(t("button.warn.active.border.color"),`;
    color: `).concat(t("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(t("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(t("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(t("button.help.background"),`;
    border: 1px solid `).concat(t("button.help.border.color"),`;
    color: `).concat(t("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.help.hover.background"),`;
    border: 1px solid `).concat(t("button.help.hover.border.color"),`;
    color: `).concat(t("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(t("button.help.active.background"),`;
    border: 1px solid `).concat(t("button.help.active.border.color"),`;
    color: `).concat(t("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(t("button.help.focus.ring.color"),`;
    box-shadow: `).concat(t("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(t("button.danger.background"),`;
    border: 1px solid `).concat(t("button.danger.border.color"),`;
    color: `).concat(t("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.danger.hover.background"),`;
    border: 1px solid `).concat(t("button.danger.hover.border.color"),`;
    color: `).concat(t("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.danger.active.background"),`;
    border: 1px solid `).concat(t("button.danger.active.border.color"),`;
    color: `).concat(t("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(t("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(t("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(t("button.contrast.background"),`;
    border: 1px solid `).concat(t("button.contrast.border.color"),`;
    color: `).concat(t("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.contrast.hover.background"),`;
    border: 1px solid `).concat(t("button.contrast.hover.border.color"),`;
    color: `).concat(t("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.contrast.active.background"),`;
    border: 1px solid `).concat(t("button.contrast.active.border.color"),`;
    color: `).concat(t("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(t("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(t("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(t("button.outlined.primary.hover.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(t("button.outlined.primary.active.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.outlined.secondary.active.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.outlined.success.hover.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(t("button.outlined.success.active.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.outlined.info.hover.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(t("button.outlined.info.active.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.outlined.warn.hover.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.outlined.warn.active.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.outlined.help.hover.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(t("button.outlined.help.active.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.outlined.danger.hover.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.outlined.danger.active.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.outlined.contrast.active.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.outlined.plain.hover.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.outlined.plain.active.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(t("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(t("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(t("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(t("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(t("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.text.contrast.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.text.contrast.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.active.color"),`;
}
`)},gh={root:function(e){var t=e.instance,n=e.props;return["p-button p-component",Se(Se(Se(Se(Se(Se(Se(Se(Se({"p-button-icon-only":t.hasIcon&&!n.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading,"p-button-link":n.link||n.variant==="link"},"p-button-".concat(n.severity),n.severity),"p-button-raised",n.raised),"p-button-rounded",n.rounded),"p-button-text",n.text||n.variant==="text"),"p-button-outlined",n.outlined||n.variant==="outlined"),"p-button-sm",n.size==="small"),"p-button-lg",n.size==="large"),"p-button-plain",n.plain),"p-button-fluid",t.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var t=e.props;return["p-button-icon",Se({},"p-button-icon-".concat(t.iconPos),t.label)]},label:"p-button-label"},mh=V.extend({name:"button",theme:ph,classes:gh}),bh={name:"BaseButton",extends:de,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:mh,provide:function(){return{$pcButton:this,$parentInstance:this}}},ho={name:"Button",extends:bh,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return w(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Tn(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:co,Badge:uo},directives:{ripple:ps}};function vh(r,e,t,n,s,i){var a=Ke("SpinnerIcon"),o=Ke("Badge"),l=vi("ripple");return r.asChild?q(r.$slots,"default",{key:1,class:gt(r.cx("root")),a11yAttrs:i.a11yAttrs}):mt((k(),Q(pt(r.as),w({key:0,class:r.cx("root")},i.attrs),{default:U(function(){return[q(r.$slots,"default",{},function(){return[r.loading?q(r.$slots,"loadingicon",w({key:0,class:[r.cx("loadingIcon"),r.cx("icon")]},r.ptm("loadingIcon")),function(){return[r.loadingIcon?(k(),W("span",w({key:0,class:[r.cx("loadingIcon"),r.cx("icon"),r.loadingIcon]},r.ptm("loadingIcon")),null,16)):(k(),Q(a,w({key:1,class:[r.cx("loadingIcon"),r.cx("icon")],spin:""},r.ptm("loadingIcon")),null,16,["class"]))]}):q(r.$slots,"icon",w({key:1,class:[r.cx("icon")]},r.ptm("icon")),function(){return[r.icon?(k(),W("span",w({key:0,class:[r.cx("icon"),r.icon,r.iconClass]},r.ptm("icon")),null,16)):ue("",!0)]}),P("span",w({class:r.cx("label")},r.ptm("label")),ne(r.label||""),17),r.badge?(k(),Q(o,{key:2,value:r.badge,class:gt(r.badgeClass),severity:r.badgeSeverity,unstyled:r.unstyled,pt:r.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):ue("",!0)]})]}),_:3},16,["class"])),[[l]])}ho.render=vh;var yh=function(e){var t=e.dt;return`
.p-panel {
    border: 1px solid `.concat(t("panel.border.color"),`;
    border-radius: `).concat(t("panel.border.radius"),`;
    background: `).concat(t("panel.background"),`;
    color: `).concat(t("panel.color"),`;
}

.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: `).concat(t("panel.header.padding"),`;
    background: `).concat(t("panel.header.background"),`;
    color: `).concat(t("panel.header.color"),`;
    border-style: solid;
    border-width: `).concat(t("panel.header.border.width"),`;
    border-color: `).concat(t("panel.header.border.color"),`;
    border-radius: `).concat(t("panel.header.border.radius"),`;
}

.p-panel-toggleable .p-panel-header {
    padding: `).concat(t("panel.toggleable.header.padding"),`;
}

.p-panel-title {
    line-height: 1;
    font-weight: `).concat(t("panel.title.font.weight"),`;
}

.p-panel-content {
    padding: `).concat(t("panel.content.padding"),`;
}

.p-panel-footer {
    padding: `).concat(t("panel.footer.padding"),`;
}
`)},_h={root:function(e){var t=e.props;return["p-panel p-component",{"p-panel-toggleable":t.toggleable}]},header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},wh=V.extend({name:"panel",theme:yh,classes:_h}),Sh={name:"BasePanel",extends:de,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}}},style:wh,provide:function(){return{$pcPanel:this,$parentInstance:this}}},gs={name:"Panel",extends:Sh,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||vt()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||vt()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.header}},components:{PlusIcon:fs,MinusIcon:hs,Button:ho},directives:{ripple:ps}},kh=["id"],$h=["id","aria-labelledby"];function Ph(r,e,t,n,s,i){var a=Ke("Button");return k(),W("div",w({class:r.cx("root")},r.ptmi("root")),[P("div",w({class:r.cx("header")},r.ptm("header")),[q(r.$slots,"header",{id:s.id+"_header",class:gt(r.cx("title"))},function(){return[r.header?(k(),W("span",w({key:0,id:s.id+"_header",class:r.cx("title")},r.ptm("title")),ne(r.header),17,kh)):ue("",!0)]}),P("div",w({class:r.cx("headerActions")},r.ptm("headerActions")),[q(r.$slots,"icons"),r.toggleable?(k(),Q(a,w({key:0,id:s.id+"_header",class:r.cx("pcToggleButton"),"aria-label":i.buttonAriaLabel,"aria-controls":s.id+"_content","aria-expanded":!s.d_collapsed,unstyled:r.unstyled,onClick:i.toggle,onKeydown:i.onKeyDown},r.toggleButtonProps,{pt:r.ptm("pcToggleButton")}),{icon:U(function(o){return[q(r.$slots,r.$slots.toggleicon?"toggleicon":"togglericon",{collapsed:s.d_collapsed},function(){return[(k(),Q(pt(s.d_collapsed?"PlusIcon":"MinusIcon"),w({class:o.class},r.ptm("pcToggleButton").icon),null,16,["class"]))]})]}),_:3},16,["id","class","aria-label","aria-controls","aria-expanded","unstyled","onClick","onKeydown","pt"])):ue("",!0)],16)],16),N(Rr,w({name:"p-toggleable-content"},r.ptm("transition")),{default:U(function(){return[mt(P("div",w({id:s.id+"_content",class:r.cx("contentContainer"),role:"region","aria-labelledby":s.id+"_header"},r.ptm("contentContainer")),[P("div",w({class:r.cx("content")},r.ptm("content")),[q(r.$slots,"default")],16),r.$slots.footer?(k(),W("div",w({key:0,class:r.cx("footer")},r.ptm("footer")),[q(r.$slots,"footer")],16)):ue("",!0)],16,$h),[[kn,!s.d_collapsed]])]}),_:3},16)],16)}gs.render=Ph;const Ch={class:"stepper__wrapper",id:"print-area"},xh={class:"stepper__content"},Ah={key:1,class:"grid gap-4"},Oh={class:"stepper__answers"},Th={class:"stepper__answers-content"},Eh={class:"stepper__others"},Ih={class:"stepper__actions stepper__actions-between"},Rh=Yt({__name:"ElResult",setup(r){const{setStepValueHandler:e}=Wn(),t=us(),n=je("PRINT"),s=je("BACK"),i=()=>{window.print()},a=cr(()=>{var l,c;return(l=t.openAiData)!=null&&l.others?Object.keys((c=t.openAiData)==null?void 0:c.others).map(u=>{var d,h;return{title:(d=t.openAiData)==null?void 0:d.others[u].title,text:(h=t.openAiData)==null?void 0:h.others[u].text}}):[]}),o=cr(()=>{var l;return((l=t.openAiData)==null?void 0:l.business_plan)||[]});return(l,c)=>{const u=Ke("masonry-wall");return k(),Q(L(En),{value:"3"},{default:U(({activateCallback:d})=>[P("div",Ch,[P("div",xh,[L(t).isLoaded?(k(),Q($d,{key:0})):(k(),W("div",Ah,[P("div",null,[c[2]||(c[2]=P("div",{class:"caption"},"Strengthening foundations",-1)),P("div",Oh,[(k(!0),W($n,null,yi(o.value,(h,f)=>(k(),Q(L(lo),{key:h.step,legend:`Step ${h.step}. ${h.title}`,class:gt(f===o.value.length-1?"stepper__answers-single":"stepper__answers-double")},{default:U(()=>[P("div",Th,[c[0]||(c[0]=P("b",null,"1:",-1)),Re(" "+ne(h.what_i_have_to_do)+" ",1),c[1]||(c[1]=P("b",null,"2:",-1)),Re(" "+ne(h.where_to_start),1)])]),_:2},1032,["legend","class"]))),128))])]),P("div",null,[c[3]||(c[3]=P("div",{class:"caption"},"My recommendation",-1)),P("div",Eh,[N(u,{items:a.value,"column-width":250,"ssr-columns":1,gap:16},{default:U(({item:h})=>[N(L(gs),{header:h.title},{default:U(()=>[P("div",null,ne(h.text),1)]),_:2},1032,["header"])]),_:1},8,["items"])])])]))])]),P("div",Ih,[N(Vt,{"button-action":()=>L(e)({activateCallback:d,value:"2"}),variant:"default"},{default:U(()=>[Re(ne(s.value),1)]),_:2},1032,["button-action"]),N(Vt,{"button-action":i,variant:"primary"},{default:U(()=>[Re(ne(n.value),1)]),_:1})])]),_:1})}}}),jh=wt(Rh,[["__scopeId","data-v-5c56d2eb"]]),Dh=[{title:"What is a business plan and why is it important?",text:"A business plan outlines your business idea, goals, and strategies, helping you understand your market and attract investors.",id:1},{title:"How do I create a business plan using your website?",text:"Follow our step-by-step guide, using templates and tips to create a professional business plan easily.",id:2},{title:"What information should be included in a business plan?",text:"Typically includes business description, market analysis, marketing strategy, operational plan, organizational structure, financial plan, and appendices.",id:3},{title:"Can I get examples of successful business plans?",text:"Yes, we provide examples from various industries for reference.",id:4},{title:"Can I edit my business plan after creating it?",text:"Absolutely! You can edit, save, export, and print your business plans anytime.",id:5},{title:"Do you offer customer support?",text:"Yes, our customer support team is available via email or chat on the website.",id:6},{title:"Is there a cost to using your tool?",text:"We offer free and premium plans, with premium providing advanced tools and templates.",id:7},{title:"How secure is my information?",text:"We use industry-standard encryption to protect your data.",id:8},{title:"Can I export my business plan to other formats?",text:"Yes, you can export your business plan to PDF, Word, or other formats.",id:9},{title:"Can I collaborate with others?",text:"Yes, you can share your business plan and work together in real-time.",id:11},{title:"What industries do your templates cover?",text:"Our templates cover a wide range of industries, including technology, retail, healthcare, and more.",id:12},{title:"Can startups use your tool?",text:"Yes, its designed for both startups and established businesses, with specific guidance for startups.",id:13},{title:"How long does it take to create a business plan?",text:"With our guide and templates, you can create a comprehensive plan in a matter of hours.",id:14},{title:"Do you offer additional resources?",text:"Yes, we provide articles, webinars, and tutorials for business planning.",id:15},{title:"Can I use your tool on mobile devices?",text:"Yes, our website is fully responsive for mobile access.",id:16},{title:"What if I need help with specific sections?",text:"We offer detailed instructions and examples, and our support team is available to assist.",id:16}];var Lh=function(e){var t=e.dt;return`
.p-divider-horizontal {
    display: flex;
    width: 100%;
    position: relative;
    align-items: center;
    margin: `.concat(t("divider.horizontal.margin"),`;
    padding: `).concat(t("divider.horizontal.padding"),`;
}

.p-divider-horizontal:before {
    position: absolute;
    display: block;
    inset-block-start: 50%;
    inset-inline-start: 0;
    width: 100%;
    content: "";
    border-block-start: 1px solid `).concat(t("divider.border.color"),`;
}

.p-divider-horizontal .p-divider-content {
    padding: `).concat(t("divider.horizontal.content.padding"),`;
}

.p-divider-vertical {
    min-height: 100%;
    display: flex;
    position: relative;
    justify-content: center;
    margin: `).concat(t("divider.vertical.margin"),`;
    padding: `).concat(t("divider.vertical.padding"),`;
}

.p-divider-vertical:before {
    position: absolute;
    display: block;
    inset-block-start: 0;
    inset-inline-start: 50%;
    height: 100%;
    content: "";
    border-inline-start: 1px solid `).concat(t("divider.border.color"),`;
}

.p-divider.p-divider-vertical .p-divider-content {
    padding: `).concat(t("divider.vertical.content.padding"),`;
}

.p-divider-content {
    z-index: 1;
    background: `).concat(t("divider.content.background"),`;
    color: `).concat(t("divider.content.color"),`;
}

.p-divider-solid.p-divider-horizontal:before {
    border-block-start-style: solid;
}

.p-divider-solid.p-divider-vertical:before {
    border-inline-start-style: solid;
}

.p-divider-dashed.p-divider-horizontal:before {
    border-block-start-style: dashed;
}

.p-divider-dashed.p-divider-vertical:before {
    border-inline-start-style: dashed;
}

.p-divider-dotted.p-divider-horizontal:before {
    border-block-start-style: dotted;
}

.p-divider-dotted.p-divider-vertical:before {
    border-inline-start-style: dotted;
}

.p-divider-left:dir(rtl),
.p-divider-right:dir(rtl) {
    flex-direction: row-reverse;
}
`)},Nh={root:function(e){var t=e.props;return{justifyContent:t.layout==="horizontal"?t.align==="center"||t.align===null?"center":t.align==="left"?"flex-start":t.align==="right"?"flex-end":null:null,alignItems:t.layout==="vertical"?t.align==="center"||t.align===null?"center":t.align==="top"?"flex-start":t.align==="bottom"?"flex-end":null:null}}},Bh={root:function(e){var t=e.props;return["p-divider p-component","p-divider-"+t.layout,"p-divider-"+t.type,{"p-divider-left":t.layout==="horizontal"&&(!t.align||t.align==="left")},{"p-divider-center":t.layout==="horizontal"&&t.align==="center"},{"p-divider-right":t.layout==="horizontal"&&t.align==="right"},{"p-divider-top":t.layout==="vertical"&&t.align==="top"},{"p-divider-center":t.layout==="vertical"&&(!t.align||t.align==="center")},{"p-divider-bottom":t.layout==="vertical"&&t.align==="bottom"}]},content:"p-divider-content"},Uh=V.extend({name:"divider",theme:Lh,classes:Bh,inlineStyles:Nh}),Mh={name:"BaseDivider",extends:de,props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},style:Uh,provide:function(){return{$pcDivider:this,$parentInstance:this}}},Ir={name:"Divider",extends:Mh,inheritAttrs:!1},Fh=["aria-orientation"];function Vh(r,e,t,n,s,i){return k(),W("div",w({class:r.cx("root"),style:r.sx("root"),role:"separator","aria-orientation":r.layout},r.ptmi("root")),[r.$slots.default?(k(),W("div",w({key:0,class:r.cx("content")},r.ptm("content")),[q(r.$slots,"default")],16)):ue("",!0)],16,Fh)}Ir.render=Vh;const Wh={class:"el-faq"},qh=Yt({__name:"ElFaq",setup(r){return(e,t)=>{const n=Ke("masonry-wall");return k(),W("div",Wh,[t[0]||(t[0]=P("div",{class:"el-faq__header"},[P("div",{class:"el-faq__caption"},"FAQs"),P("div",{class:"el-faq__text"}," If you need help, we have a list of frequently asked questions and answers. We strive to give you the best buying experience possible. Click a question below to view the answer. ")],-1)),N(L(Ir)),N(n,{items:L(Dh),"column-width":300,"ssr-columns":1,gap:16},{default:U(({item:s})=>[N(L(gs),{header:s.title},{default:U(()=>[P("div",null,ne(s.text),1)]),_:2},1032,["header"])]),_:1},8,["items"]),N(L(Ir))])}}}),zh=wt(qh,[["__scopeId","data-v-12be6b2c"]]),Hh={class:"business"},Jh=Yt({__name:"BusinessView",setup(r){const{stepList:e,getStorageStepValue:t}=Wn(),n=cr(()=>t());return(s,i)=>(k(),Q(po,null,{content:U(()=>[P("section",Hh,[N(L($i),{value:n.value,class:"business__content"},{default:U(()=>[N(L(Pi),null,{default:U(()=>[(k(!0),W($n,null,yi(L(e),a=>(k(),Q(L(Ai),{key:a.id,value:a.value,class:"business__header"},{default:U(()=>[Re(ne(a.label),1)]),_:2},1032,["value"]))),128))]),_:1}),N(L(Ci),null,{default:U(()=>[N(fd),N(_d),N(jh)]),_:1})]),_:1},8,["value"]),N(zh)])]),_:1}))}}),bf=wt(Jh,[["__scopeId","data-v-cd4a6dbf"]]);export{bf as default};
